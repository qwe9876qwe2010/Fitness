<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è®­ç»ƒè®¡åˆ’</title>
    <style>
        /* æ ·å¼ä»£ç ä¿æŒä¸å˜ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #4a90e2 0%, #2a6dc7 100%);
            border-radius: 10px;
            max-width: 1800px;
            margin-left: auto;
            margin-right: auto;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }

        .container {
            display: flex;
            max-width: 1800px;
            margin: 0 auto;
            gap: 20px;
        }

        .exercises-section {
            flex: 1;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        .calendar-section {
            flex: 1;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        /* åŠ¨ä½œè¯¦æƒ…å¼¹çª—æ ·å¼ */
        .exercise-detail-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }

        .exercise-detail-content {
            background: white;
            max-width: 800px;
            margin: 20px auto;
            padding: 30px;
            border-radius: 15px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .exercise-detail-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .exercise-detail-title {
            font-size: 24px;
            color: #333;
            margin: 0;
        }

        .exercise-detail-bodypart {
            font-size: 18px;
            color: #666;
            margin: 5px 0 15px 0;
        }

        .exercise-detail-type {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 15px;
        }

        .exercise-detail-type.warmup {
            background: #fff3cd;
            color: #856404;
        }

        .exercise-detail-type.stretch {
            background: #d1ecf1;
            color: #0c5460;
        }

        .exercise-detail-type.training {
            background: #d4edda;
            color: #155724;
        }

        .exercise-detail-description {
            font-size: 16px;
            line-height: 1.6;
            color: #555;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .exercise-detail-section {
            margin-bottom: 25px;
        }

        .exercise-detail-section h3 {
            font-size: 18px;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 8px;
        }

        .exercise-detail-muscles {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .muscle-tag {
            background: #e9ecef;
            color: #495057;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: default;
        }

        .exercise-detail-steps {
            list-style-type: none;
            padding: 0;
        }

        .exercise-detail-steps li {
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
            counter-increment: step-counter;
            position: relative;
            padding-left: 40px;
        }

        .exercise-detail-steps li:before {
            content: counter(step-counter);
            background: #4a90e2;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            font-size: 12px;
            font-weight: bold;
        }

        .exercise-detail-tips {
            list-style-type: none;
            padding: 0;
        }

        .exercise-detail-tips li {
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
            padding-left: 30px;
            position: relative;
        }

        .exercise-detail-tips li:before {
            content: "ğŸ’¡";
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
        }

        .exercise-detail-gif {
            text-align: center;
            margin: 20px 0;
        }

        .exercise-detail-gif img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .exercise-detail-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        @media (max-width: 768px) {
            .exercise-detail-actions {
                flex-direction: column;
            }
        }

        /* ç­›é€‰åŒºåŸŸæ ·å¼ */
        .filters {
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 10px;
        }

        .search-box {
            flex: 1;
            min-width: 250px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 20px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .search-box input:focus {
            border-color: #4a90e2;
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);
        }

        .bodypart-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .bodypart-btn {
            padding: 10px 18px;
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: 500;
        }

        .bodypart-btn:hover {
            background: #e9e9e9;
            transform: translateY(-2px);
        }

        .bodypart-btn.active {
            background: #4a90e2;
            color: white;
            border-color: #4a90e2;
            box-shadow: 0 2px 5px rgba(74, 144, 226, 0.3);
        }

        .exercise-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            max-height: 70vh;
            overflow-y: auto;
            padding: 10px;
        }

        .exercise-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: grab;
            position: relative;
            overflow: hidden;
            padding-top: 45px;
            border: 2px solid transparent;
        }

        .exercise-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .exercise-item:active {
            cursor: grabbing;
        }

        .exercise-item.dragging {
            opacity: 0.5;
            border: 2px dashed #4a90e2;
        }

        /* åŠ¨ä½œç±»å‹æ ‡ç­¾ */
        .exercise-type {
            position: absolute;
            top: 15px;
            left: 15px;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            z-index: 2;
        }

        .exercise-type.warmup {
            background: #fff3cd;
            color: #856404;
        }

        .exercise-type.stretch {
            background: #d1ecf1;
            color: #0c5460;
        }

        .exercise-type.training {
            background: #d4edda;
            color: #155724;
        }

        .exercise-item h3 {
            margin: 0 0 10px 0;
            font-size: 18px;
            color: #333;
            line-height: 1.3;
        }

        .exercise-item p {
            margin: 0 0 12px 0;
            color: #666;
            font-size: 14px;
        }

        .muscle-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .muscle-tag {
            background: #e9ecef;
            color: #495057;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            cursor: default;
            transition: all 0.3s;
        }

        .muscle-tag:hover {
            background: #e9ecef;
            color: #495057;
            transform: none;
        }

        .no-results {
            grid-column: 1 / -1;
            text-align: center;
            padding: 50px;
            background: white;
            border-radius: 10px;
            color: #666;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        /* æ—¥å†æ ·å¼ */
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-header h2 {
            color: #333;
            font-size: 22px;
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .calendar-nav button {
            padding: 8px 15px;
            background: #4a90e2;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .calendar-nav button:hover {
            background: #2a6dc7;
            transform: translateY(-2px);
        }

        .calendar-weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            color: #555;
        }

        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }

        .calendar-day {
            min-height: 110px;
            border: 1px solid #eee;
            padding: 10px;
            border-radius: 8px;
            background: #f9f9f9;
            transition: background 0.3s;
        }

        .calendar-day.empty {
            background: #f5f5f5;
        }

        .calendar-day.current-month {
            background: white;
        }

        .calendar-day.today {
            background: #fff9e6;
            border-color: #ffcc00;
        }

        .calendar-day.drop-zone {
            background: #e6f7ff;
            border: 2px dashed #4a90e2;
        }

        .day-number {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .day-exercises {
            font-size: 12px;
            color: #666;
        }

        .exercise-badge {
            display: inline-block;
            background: #4a90e2;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            margin: 2px;
            font-size: 10px;
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            cursor: pointer;
        }

        /* çƒ­èº«å’Œæ‹‰ä¼¸åŠ¨ä½œçš„å¾½ç« æ ·å¼ */
        .exercise-badge.warmup {
            background: #ffc107;
        }

        .exercise-badge.stretch {
            background: #17a2b8;
        }

        /* è®­ç»ƒè®¡åˆ’è¯¦æƒ… */
        .plan-detail {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }

        .plan-content {
            background: white;
            max-width: 800px;
            margin: 20px auto;
            padding: 30px;
            border-radius: 15px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 28px;
            cursor: pointer;
            background: none;
            border: none;
            color: #666;
            z-index: 1001;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .close-btn:hover {
            background: #f5f5f5;
            color: #333;
        }

        .plan-exercises {
            margin-top: 20px;
        }

        .plan-exercise-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #4a90e2;
        }

        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .remove-exercise {
            background: #ff4d4d;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 8px 15px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .remove-exercise:hover {
            background: #e60000;
            transform: translateY(-2px);
        }

        .sets-container {
            margin-top: 15px;
        }

        .set-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            padding: 12px;
            background: white;
            border-radius: 8px;
            flex-wrap: wrap;
            border: 1px solid #e9ecef;
        }

        .set-number {
            font-weight: bold;
            min-width: 40px;
            color: #555;
        }

        .set-input {
            width: 90px;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            transition: border-color 0.3s;
        }

        .set-input:focus {
            border-color: #4a90e2;
            outline: none;
        }

        .input-with-unit {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .unit-label {
            font-size: 13px;
            color: #666;
            white-space: nowrap;
        }

        .set-complete {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .complete-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .complete-label {
            font-size: 13px;
            color: #666;
        }

        .add-set-btn {
            background: #4a90e2;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 8px 15px;
            cursor: pointer;
            margin-top: 8px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .add-set-btn:hover {
            background: #2a6dc7;
            transform: translateY(-2px);
        }

        .delete-set-btn {
            background: #ff4d4d;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 6px 10px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
        }

        .delete-set-btn:hover {
            background: #e60000;
        }

        .add-exercise-select {
            width: 100%;
            padding: 12px 15px;
            margin-top: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .add-exercise-select:focus {
            border-color: #4a90e2;
            outline: none;
        }

        #add-exercise-btn {
            margin-top: 15px;
            padding: 12px 20px;
            background: #4a90e2;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s;
            width: 100%;
        }

        #add-exercise-btn:hover {
            background: #2a6dc7;
            transform: translateY(-2px);
        }

        /* è®¡æ—¶å™¨å¼¹çª—æ ·å¼ */
        .timer-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .timer-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            max-width: 400px;
            width: 90%;
            overflow: hidden;
        }

        .timer-display {
            font-size: 64px;
            font-weight: bold;
            color: #4a90e2;
            margin: 20px 0;
            font-family: "Courier New", monospace;
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .timer-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            min-width: 100px;
            box-sizing: border-box;
        }

        .timer-btn.secondary {
            background: #6c757d;
            color: white;
        }

        .timer-btn.secondary:hover {
            background: #545b62;
        }

        .timer-btn.danger {
            background: #dc3545;
            color: white;
        }

        .timer-btn.danger:hover {
            background: #c82333;
        }

        .timer-title {
            font-size: 24px;
            margin-bottom: 10px;
            color: #333;
        }

        .timer-subtitle {
            color: #666;
            margin-bottom: 20px;
        }

        @media (max-width: 1200px) {
            .container {
                flex-direction: column;
            }

            .exercise-grid {
                max-height: 50vh;
            }
        }

        @media (max-width: 768px) {
            .filters {
                flex-direction: column;
                align-items: stretch;
            }

            .bodypart-filters {
                justify-content: center;
            }

            .calendar-day {
                min-height: 90px;
                font-size: 12px;
            }

            .exercise-badge {
                font-size: 9px;
                padding: 2px 6px;
            }

            .set-item {
                flex-wrap: wrap;
            }

            .input-with-unit {
                flex-wrap: wrap;
            }

            .timer-display {
                font-size: 48px;
            }

            .timer-controls {
                flex-direction: column;
                gap: 10px;
            }

            .timer-btn {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <header>
        <h1>è®­ç»ƒè®¡åˆ’</h1>
    </header>

    <div class="container">
        <!-- åŠ¨ä½œåº“åŒºåŸŸ -->
        <div class="exercises-section">
            <h2>åŠ¨ä½œåº“</h2>

            <!-- æœç´¢å’Œç­›é€‰åŒºåŸŸ -->
            <div class="filters">
                <div class="search-box">
                    <input
                        type="text"
                        id="searchInput"
                        placeholder="æœç´¢åŠ¨ä½œåç§°æˆ–è‚Œè‚‰åç§°..."
                    />
                </div>
                <div class="bodypart-filters">
                    <button class="bodypart-btn active" data-bodypart="all">
                        å…¨éƒ¨
                    </button>
                    <button class="bodypart-btn" data-bodypart="èƒ¸éƒ¨">èƒ¸éƒ¨</button>
                    <button class="bodypart-btn" data-bodypart="èƒŒéƒ¨">èƒŒéƒ¨</button>
                    <button class="bodypart-btn" data-bodypart="è…¿éƒ¨">è…¿éƒ¨</button>
                    <button class="bodypart-btn" data-bodypart="è‚©éƒ¨">è‚©éƒ¨</button>
                    <button class="bodypart-btn" data-bodypart="æ‰‹è‡‚">æ‰‹è‡‚</button>
                </div>
            </div>

            <div class="exercise-grid" id="exerciseGrid">
                <!-- åŠ¨ä½œå¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>

        <!-- æ—¥å†åŒºåŸŸ -->
        <div class="calendar-section">
            <h2>è®­ç»ƒè®¡åˆ’</h2>

            <div class="calendar-container">
                <div class="calendar-header">
                    <h2 id="calendar-month">2023å¹´10æœˆ</h2>
                    <div class="calendar-nav">
                        <button id="prev-month">ä¸Šä¸ªæœˆ</button>
                        <button id="next-month">ä¸‹ä¸ªæœˆ</button>
                    </div>
                </div>
                <div class="calendar-weekdays">
                    <div>æ—¥</div>
                    <div>ä¸€</div>
                    <div>äºŒ</div>
                    <div>ä¸‰</div>
                    <div>å››</div>
                    <div>äº”</div>
                    <div>å…­</div>
                </div>
                <div class="calendar-days" id="calendar-days">
                    <!-- æ—¥å†å¤©æ•°å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
    </div>

    <!-- è®­ç»ƒè®¡åˆ’è¯¦æƒ… -->
    <div class="plan-detail" id="plan-detail">
        <div class="plan-content">
            <button class="close-btn">&times;</button>
            <h2 id="plan-date">è®­ç»ƒè®¡åˆ’</h2>
            <div class="plan-exercises" id="plan-exercises">
                <!-- è®¡åˆ’ä¸­çš„åŠ¨ä½œå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            <select class="add-exercise-select" id="add-exercise-select">
                <option value="">é€‰æ‹©è¦æ·»åŠ çš„åŠ¨ä½œ...</option>
                <!-- åŠ¨ä½œé€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </select>
            <button id="add-exercise-btn">æ·»åŠ åŠ¨ä½œ</button>
        </div>
    </div>

    <!-- è®¡æ—¶å™¨å¼¹çª— -->
    <div class="timer-modal" id="timer-modal">
        <div class="timer-content">
            <h2 class="timer-title">ä¼‘æ¯è®¡æ—¶å™¨</h2>
            <p class="timer-subtitle">å®Œæˆä¸€ç»„åŠ¨ä½œåï¼Œå»ºè®®ä¼‘æ¯ä¸€æ®µæ—¶é—´</p>
            <div class="timer-display" id="timer-display">01:00</div>
            <div class="timer-controls">
                <button class="timer-btn secondary" id="add-10s">+10ç§’</button>
                <button class="timer-btn secondary" id="subtract-10s">-10ç§’</button>
                <button class="timer-btn danger" id="skip-timer">è·³è¿‡</button>
            </div>
        </div>
    </div>

    <div class="exercise-detail-modal" id="exercise-detail-modal">
        <div class="exercise-detail-content">
            <button class="close-btn exercise-close-btn">&times;</button>
            <div class="exercise-detail-header">
                <div>
                    <h2 class="exercise-detail-title" id="exercise-detail-title">
                        åŠ¨ä½œåç§°
                    </h2>
                    <p class="exercise-detail-bodypart" id="exercise-detail-bodypart">
                        éƒ¨ä½
                    </p>
                    <span class="exercise-detail-type" id="exercise-detail-type"
                        >ç±»å‹</span
                    >
                </div>
            </div>

            <p class="exercise-detail-description" id="exercise-detail-description">
                åŠ¨ä½œæè¿°
            </p>

            <div class="exercise-detail-section">
                <h3>ç›®æ ‡è‚Œè‚‰</h3>
                <div class="exercise-detail-muscles" id="exercise-detail-muscles">
                    <!-- è‚Œè‚‰æ ‡ç­¾å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>

            <div class="exercise-detail-section">
                <h3>æ‰§è¡Œæ­¥éª¤</h3>
                <ol class="exercise-detail-steps" id="exercise-detail-steps">
                    <!-- æ­¥éª¤å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </ol>
            </div>

            <div class="exercise-detail-section">
                <h3>è®­ç»ƒæŠ€å·§</h3>
                <ul class="exercise-detail-tips" id="exercise-detail-tips">
                    <!-- æŠ€å·§å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </ul>
            </div>

            <div class="exercise-detail-gif" id="exercise-detail-gif">
                <!-- GIFå›¾ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <script>
        // åŠ¨ä½œæ•°æ®
        const exercises = [
            // çƒ­èº«åŠ¨ä½œ
            {
                id: "band-warmup",
                name: "å¼¹åŠ›å¸¦è‚©éƒ¨çƒ­èº«",
                bodyPart: "è‚©éƒ¨",
                type: "warmup",
                description:
                    "å¼¹åŠ›å¸¦è‚©éƒ¨çƒ­èº«æ˜¯è®­ç»ƒå‰çš„é‡è¦å‡†å¤‡åŠ¨ä½œï¼Œå¯ä»¥æœ‰æ•ˆæ¿€æ´»è‚©éƒ¨è‚Œç¾¤ï¼Œå¢åŠ è‚©å…³èŠ‚æ´»åŠ¨åº¦ï¼Œé¢„é˜²è‚©éƒ¨æŸä¼¤ã€‚",
                muscles: ["ä¸‰è§’è‚Œå‰æŸ", "ä¸‰è§’è‚Œä¸­æŸ", "ä¸‰è§’è‚ŒåæŸ"],
                gif: "gifs/band-warmup.gif",
                steps: [
                    "åŒè„šä¸è‚©åŒå®½ç«™ç«‹ï¼ŒåŒæ‰‹æ¡ä½å¼¹åŠ›å¸¦ä¸¤ç«¯",
                    "æ‰‹è‡‚ä¼¸ç›´ï¼Œå°†å¼¹åŠ›å¸¦ä¸¾è‡³èƒ¸å‰é«˜åº¦",
                    "æ…¢æ…¢å°†åŒè‡‚å‘ä¸ŠæŠ¬èµ·ï¼Œä¿æŒæ‰‹è‡‚ä¼¸ç›´",
                    "ç»§ç»­å‘ä¸Šå‘åç§»åŠ¨ï¼Œç›´åˆ°å¼¹åŠ›å¸¦è¶Šè¿‡å¤´éƒ¨",
                    "ç¼“æ…¢å›åˆ°èµ·å§‹ä½ç½®",
                    "é‡å¤10-15æ¬¡ï¼Œè¿›è¡Œ2-3ç»„",
                ],
                tips: [
                    "åŠ¨ä½œè¦ç¼“æ…¢æ§åˆ¶ï¼Œæ„Ÿå—è‚©éƒ¨çš„æ‹‰ä¼¸æ„Ÿ",
                    "ä¿æŒæ ¸å¿ƒæ”¶ç´§ï¼Œé¿å…è…°éƒ¨è¿‡åº¦åå¼“",
                    "å¦‚æœè‚©éƒ¨æŸ”éŸ§æ€§è¾ƒå·®ï¼Œå¯ä»¥é€‚å½“åŠ å®½å¼¹åŠ›å¸¦æ¡è·",
                    "çƒ­èº«æ—¶ä¸è¦ä½¿ç”¨è¿‡å¤§çš„é˜»åŠ›",
                ],
            },
            {
                id: "money-cat",
                name: "æ‹›è´¢çŒ«è‚©éƒ¨çƒ­èº«",
                bodyPart: "è‚©éƒ¨",
                type: "warmup",
                description:
                    "æ‹›è´¢çŒ«åŠ¨ä½œæ˜¯ç»å…¸çš„è‚©éƒ¨çƒ­èº«åŠ¨ä½œï¼Œä½¿ç”¨è½»é‡é‡å“‘é“ƒè¿›è¡Œï¼Œå¯ä»¥æœ‰æ•ˆæ¿€æ´»è‚©éƒ¨æ—‹è½¬è‚Œç¾¤ï¼Œé¢„é˜²è‚©éƒ¨æŸä¼¤ã€‚",
                muscles: ["ä¸‰è§’è‚Œå‰æŸ", "ä¸‰è§’è‚Œä¸­æŸ", "è‚©è¢–è‚Œç¾¤"],
                steps: [
                    "åŒæ‰‹å„æ¡ä¸€ä¸ª2.5kgå“‘é“ƒï¼Œç«™ç«‹æˆ–åç«‹",
                    "åŒè‡‚å‘ä¸¤ä¾§æŠ¬èµ·ï¼Œè‚˜å…³èŠ‚å¼¯æ›²90åº¦ï¼Œå‰è‡‚ä¸åœ°é¢å‚ç›´",
                    "ä¿æŒä¸Šè‡‚ä¸åŠ¨ï¼Œæ—‹è½¬è‚©å…³èŠ‚ï¼Œå°†å“‘é“ƒå‘å‰å‘ä¸‹è½¬åŠ¨",
                    "åˆ°è¾¾æœ€ä½ç‚¹åï¼Œå†å‘ä¸Šå‘åæ—‹è½¬å›åˆ°èµ·å§‹ä½ç½®",
                    "é‡å¤10-15æ¬¡ï¼Œè¿›è¡Œ2-3ç»„",
                ],
                tips: [
                    "ä½¿ç”¨è½»é‡é‡ï¼Œé‡ç‚¹æ˜¯åŠ¨ä½œçš„æ§åˆ¶å’Œè‚©éƒ¨çš„æ„Ÿå—",
                    "ä¿æŒä¸Šè‡‚ä¸åœ°é¢å¹³è¡Œï¼Œä¸è¦ä¸Šä¸‹æ™ƒåŠ¨",
                    "åŠ¨ä½œè¦ç¼“æ…¢ï¼Œæ„Ÿå—è‚©éƒ¨æ—‹è½¬è‚Œç¾¤çš„æ¿€æ´»",
                    "å¦‚æœè‚©éƒ¨æœ‰ä¸é€‚ï¼Œå‡å°åŠ¨ä½œå¹…åº¦æˆ–ä½¿ç”¨æ›´è½»çš„é‡é‡",
                ],
            },
            {
                id: "dynamic-stretch",
                name: "åŠ¨æ€æ‹‰ä¼¸çƒ­èº«",
                bodyPart: "å…¨èº«",
                type: "warmup",
                description:
                    "åŠ¨æ€æ‹‰ä¼¸æ˜¯è®­ç»ƒå‰çš„é‡è¦çƒ­èº«ç¯èŠ‚ï¼Œé€šè¿‡æ´»åŠ¨å…³èŠ‚å’Œè‚Œè‚‰ï¼Œå¢åŠ èº«ä½“æ¸©åº¦å’Œè¡€æ¶²å¾ªç¯ï¼Œä¸ºè®­ç»ƒåšå¥½å‡†å¤‡ã€‚",
                muscles: ["å…¨èº«ä¸»è¦è‚Œç¾¤"],
                steps: [
                    "é¢ˆéƒ¨æ—‹è½¬ï¼šç¼“æ…¢è½¬åŠ¨é¢ˆéƒ¨ï¼Œé¡ºæ—¶é’ˆå’Œé€†æ—¶é’ˆå„5æ¬¡",
                    "è‚©éƒ¨ç¯ç»•ï¼šå‘å‰å‘åå„è½¬åŠ¨è‚©éƒ¨10æ¬¡",
                    "æ‰‹è‡‚æ‘†åŠ¨ï¼šå‰åæ‘†åŠ¨åŒè‡‚ï¼Œæ´»åŠ¨è‚©å…³èŠ‚",
                    "ä½“è½¬è¿åŠ¨ï¼šå·¦å³è½¬åŠ¨èº¯å¹²ï¼Œæ´»åŠ¨è„ŠæŸ±",
                    "é«˜æŠ¬è…¿ï¼šæ¯ä¾§10æ¬¡ï¼Œæ´»åŠ¨é«‹å…³èŠ‚å’Œè…¿éƒ¨",
                    "å¼€åˆè·³ï¼š20æ¬¡ï¼Œæå‡å¿ƒç‡å’Œä½“æ¸©",
                ],
                tips: [
                    "åŠ¨æ€æ‹‰ä¼¸ä¸åŒäºé™æ€æ‹‰ä¼¸ï¼Œè¦ä¿æŒåŠ¨ä½œçš„è¿ç»­æ€§",
                    "æ¯ä¸ªåŠ¨ä½œè¦åšåˆ°ä½ï¼Œä½†ä¸è¦è¿‡åº¦æ‹‰ä¼¸",
                    "æ ¹æ®å½“å¤©çš„è®­ç»ƒå†…å®¹ï¼Œå¯ä»¥å¢åŠ é’ˆå¯¹æ€§çš„çƒ­èº«åŠ¨ä½œ",
                    "æ•´ä¸ªçƒ­èº«è¿‡ç¨‹æŒç»­5-10åˆ†é’Ÿä¸ºå®œ",
                ],
            },

            // è®­ç»ƒåŠ¨ä½œ
            {
                id: "bench-press",
                name: "å¹³æ¿å§æ¨",
                bodyPart: "èƒ¸éƒ¨",
                type: "training",
                description:
                    "å¹³æ¿å§æ¨æ˜¯èƒ¸éƒ¨è®­ç»ƒçš„åŸºç¡€åŠ¨ä½œï¼Œä¸»è¦é”»ç‚¼èƒ¸å¤§è‚Œï¼ŒåŒæ—¶ä¹Ÿèƒ½é”»ç‚¼åˆ°è‚©éƒ¨å’Œæ‰‹è‡‚è‚Œè‚‰ã€‚è¿™æ˜¯å¢åŠ èƒ¸éƒ¨åŠ›é‡å’Œä½“ç§¯æœ€æœ‰æ•ˆçš„åŠ¨ä½œä¹‹ä¸€ã€‚",
                muscles: ["èƒ¸å¤§è‚Œ", "ä¸‰è§’è‚Œå‰æŸ", "è‚±ä¸‰å¤´è‚Œ"],
                steps: [
                    "å¹³èººåœ¨å§æ¨å‡³ä¸Šï¼ŒåŒè„šç¨³å›ºåœ°è¸©åœ¨åœ°é¢ä¸Š",
                    "åŒæ‰‹æ¡ä½æ é“ƒï¼Œæ¯”è‚©ç•¥å®½ï¼ŒæŒå¿ƒå‘å‰",
                    "ä»æ¶ä¸Šå–ä¸‹æ é“ƒï¼Œä¼¸ç›´æ‰‹è‡‚ï¼Œä½¿æ é“ƒä½äºèƒ¸éƒ¨æ­£ä¸Šæ–¹",
                    "ç¼“æ…¢ä¸‹é™æ é“ƒè‡³èƒ¸éƒ¨ï¼Œä¿æŒè‚˜éƒ¨ä¸èº«ä½“å‘ˆçº¦45åº¦è§’",
                    "å½“æ é“ƒè½»è§¦èƒ¸éƒ¨åï¼Œç”¨åŠ›æ¨èµ·æ é“ƒè‡³èµ·å§‹ä½ç½®",
                    "é‡å¤åŠ¨ä½œè‡³å®Œæˆç›®æ ‡æ¬¡æ•°",
                ],
                gif: "gifs/bench-press.gif",
                tips: [
                    "ä¿æŒè‚©èƒ›éª¨æ”¶ç´§ï¼ŒèƒŒéƒ¨è½»å¾®å¼“èµ·",
                    "ä¸‹é™æ—¶æ§åˆ¶é€Ÿåº¦ï¼Œé¿å…å¿«é€Ÿä¸‹é™",
                    "æ¨èµ·æ—¶å‘¼æ°”ï¼Œä¸‹é™æ—¶å¸æ°”",
                    "åˆå­¦è€…å»ºè®®ä½¿ç”¨è¾ƒè½»é‡é‡ï¼Œå…ˆæŒæ¡æ­£ç¡®å§¿åŠ¿",
                ],
            },
            {
                id: "incline-press",
                name: "ä¸Šæ–œå§æ¨",
                bodyPart: "èƒ¸éƒ¨",
                type: "training",
                description:
                    "ä¸Šæ–œå§æ¨ä¸»è¦é’ˆå¯¹ä¸Šèƒ¸éƒ¨è‚Œè‚‰ï¼Œæœ‰åŠ©äºå¡‘é€ é¥±æ»¡çš„ä¸Šèƒ¸çº¿æ¡ã€‚ä½¿ç”¨å€¾æ–œçš„å§æ¨å‡³å®Œæˆï¼Œè§’åº¦é€šå¸¸è®¾ç½®åœ¨30-45åº¦ã€‚",
                muscles: ["ä¸Šèƒ¸å¤§è‚Œ", "ä¸‰è§’è‚Œå‰æŸ", "è‚±ä¸‰å¤´è‚Œ"],
                steps: [
                    "è°ƒæ•´å§æ¨å‡³è‡³30-45åº¦å€¾æ–œè§’åº¦",
                    "å¹³èººåœ¨å‡³ä¸Šï¼ŒåŒè„šç¨³å›ºè¸©åœ°",
                    "åŒæ‰‹æ¡ä½æ é“ƒï¼Œæ¯”è‚©ç•¥å®½",
                    "ä»æ¶ä¸Šå–ä¸‹æ é“ƒï¼Œä¼¸ç›´æ‰‹è‡‚",
                    "ç¼“æ…¢ä¸‹é™æ é“ƒè‡³ä¸Šèƒ¸éƒ¨ä½ç½®",
                    "ç”¨åŠ›æ¨èµ·æ é“ƒè‡³èµ·å§‹ä½ç½®",
                ],
                tips: [
                    "ç¡®ä¿å§æ¨å‡³è§’åº¦åˆé€‚ï¼Œä¸è¦è¿‡é™¡",
                    "æ³¨æ„åŠ›é›†ä¸­åœ¨ä¸Šèƒ¸éƒ¨è‚Œè‚‰çš„æ”¶ç¼©",
                    "ä¸‹é™æ—¶æ§åˆ¶é€Ÿåº¦ï¼Œæ„Ÿå—ä¸Šèƒ¸éƒ¨çš„æ‹‰ä¼¸",
                ],
            },
            {
                id: "bent-over-row",
                name: "ä¿¯èº«åˆ’èˆ¹",
                bodyPart: "èƒŒéƒ¨",
                type: "training",
                description:
                    "ä¿¯èº«åˆ’èˆ¹æ˜¯èƒŒéƒ¨è®­ç»ƒçš„ç»å…¸åŠ¨ä½œï¼Œä¸»è¦é”»ç‚¼èƒŒé˜”è‚Œå’Œè±å½¢è‚Œï¼ŒåŒæ—¶ä¹Ÿèƒ½å¢å¼ºæ ¸å¿ƒç¨³å®šæ€§ã€‚",
                muscles: ["èƒŒé˜”è‚Œ", "è±å½¢è‚Œ", "è‚±äºŒå¤´è‚Œ", "ç«–è„Šè‚Œ"],
                steps: [
                    "åŒè„šä¸è‚©åŒå®½ç«™ç«‹ï¼Œè†ç›–å¾®å¼¯",
                    "ä¸ŠåŠèº«å‰å€¾è‡³çº¦45åº¦ï¼Œä¿æŒèƒŒéƒ¨æŒºç›´",
                    "åŒæ‰‹æ­£æ¡æ é“ƒï¼Œç•¥å®½äºè‚©",
                    "å°†æ é“ƒå‘ä¸Šæ‹‰å‘è…¹éƒ¨ï¼Œè‚˜éƒ¨é è¿‘èº«ä½“",
                    "åœ¨é¡¶å³°ä½ç½®ç¨ä½œåœç•™ï¼Œæ„Ÿå—èƒŒéƒ¨è‚Œè‚‰æ”¶ç¼©",
                    "ç¼“æ…¢æ”¾ä¸‹æ é“ƒè‡³èµ·å§‹ä½ç½®",
                ],
                tips: [
                    "ä¿æŒèƒŒéƒ¨æŒºç›´ï¼Œé¿å…åœ†èƒŒ",
                    "åŠ¨ä½œè¿‡ç¨‹ä¸­æ ¸å¿ƒæ”¶ç´§ï¼Œä¿æŒèº«ä½“ç¨³å®š",
                    "ä½¿ç”¨èƒŒéƒ¨è‚Œè‚‰å‘åŠ›ï¼Œè€Œä¸æ˜¯æ‰‹è‡‚",
                ],
            },
            {
                id: "deadlift",
                name: "ç¡¬æ‹‰",
                bodyPart: "èƒŒéƒ¨",
                type: "training",
                description:
                    "ç¡¬æ‹‰æ˜¯å…¨èº«å¤åˆåŠ¨ä½œä¹‹ç‹ï¼Œä¸»è¦é”»ç‚¼èƒŒéƒ¨ã€è‡€éƒ¨å’Œè…¿éƒ¨è‚Œè‚‰ç¾¤ï¼Œèƒ½æœ‰æ•ˆæå‡å…¨èº«åŠ›é‡å’Œè‚Œè‚‰é‡ã€‚",
                muscles: ["èƒŒé˜”è‚Œ", "ç«–è„Šè‚Œ", "è‡€å¤§è‚Œ", "è…˜ç»³è‚Œ", "è‚¡å››å¤´è‚Œ"],
                steps: [
                    "åŒè„šä¸è‚©åŒå®½ç«™ç«‹ï¼Œæ é“ƒä½äºè„šæŒä¸­å¤®ä¸Šæ–¹",
                    "å¼¯è…°å±ˆè†ï¼ŒåŒæ‰‹æ­£æ¡æˆ–æ­£åæ¡æ é“ƒ",
                    "ä¿æŒèƒŒéƒ¨æŒºç›´ï¼Œèƒ¸éƒ¨æŒºèµ·ï¼Œæ ¸å¿ƒæ”¶ç´§",
                    "ç”¨è…¿éƒ¨åŠ›é‡å¯åŠ¨ï¼Œå°†æ é“ƒæ²¿å°è…¿å‘ä¸Šæ‹‰",
                    "å½“æ é“ƒè¿‡è†åï¼Œå‘å‰æŒºé«‹è‡³å®Œå…¨ç«™ç«‹",
                    "ç¼“æ…¢ä¸‹æ”¾æ é“ƒï¼Œä¿æŒæ§åˆ¶ï¼Œå›åˆ°èµ·å§‹ä½ç½®",
                ],
                tips: [
                    "å§‹ç»ˆä¿æŒèƒŒéƒ¨æŒºç›´ï¼Œé¿å…åœ†èƒŒ",
                    "åŠ¨ä½œè¿‡ç¨‹ä¸­æ é“ƒå°½é‡è´´è¿‘èº«ä½“",
                    "ä½¿ç”¨è…¿éƒ¨åŠ›é‡å¯åŠ¨ï¼Œè€Œä¸æ˜¯ç”¨èƒŒéƒ¨ç¡¬æ‹‰",
                    "åˆå­¦è€…å»ºè®®ä»è½»é‡é‡å¼€å§‹ï¼Œæ³¨é‡åŠ¨ä½œå½¢å¼",
                ],
            },
            {
                id: "squat",
                name: "æ·±è¹²",
                bodyPart: "è…¿éƒ¨",
                type: "training",
                description:
                    "æ·±è¹²æ˜¯ä¸‹è‚¢è®­ç»ƒçš„åŸºç¡€åŠ¨ä½œï¼Œè¢«ç§°ä¸º'åŠ¨ä½œä¹‹ç‹'ï¼Œä¸»è¦é”»ç‚¼è‚¡å››å¤´è‚Œã€è‡€å¤§è‚Œå’Œè…˜ç»³è‚Œï¼ŒåŒæ—¶ä¹Ÿèƒ½å¢å¼ºæ ¸å¿ƒåŠ›é‡ã€‚",
                muscles: ["è‚¡å››å¤´è‚Œ", "è‡€å¤§è‚Œ", "è…˜ç»³è‚Œ", "æ ¸å¿ƒè‚Œç¾¤"],
                steps: [
                    "åŒè„šä¸è‚©åŒå®½æˆ–ç•¥å®½ç«™ç«‹ï¼Œè„šå°–ç¨å¾®å¤–å±•",
                    "ä¿æŒèƒŒéƒ¨æŒºç›´ï¼Œèƒ¸éƒ¨æŒºèµ·ï¼Œæ ¸å¿ƒæ”¶ç´§",
                    "ç¼“æ…¢ä¸‹è¹²ï¼Œè‡€éƒ¨å‘ååï¼Œå¦‚åŒè¦ååœ¨æ¤…å­ä¸Š",
                    "ä¸‹è¹²è‡³å¤§è…¿ä¸åœ°é¢å¹³è¡Œæˆ–æ›´ä½",
                    "ç”¨è„šè·Ÿå‘åŠ›ï¼Œæ¨åŠ¨èº«ä½“å›åˆ°èµ·å§‹ä½ç½®",
                    "å…¨ç¨‹ä¿æŒè†ç›–ä¸è„šå°–æ–¹å‘ä¸€è‡´",
                ],
                tips: [
                    "ä¿æŒèƒŒéƒ¨æŒºç›´ï¼Œé¿å…åœ†èƒŒ",
                    "è†ç›–ä¸è¦è¶…è¿‡è„šå°–å¤ªå¤š",
                    "ä¸‹è¹²æ—¶å¸æ°”ï¼Œä¸Šå‡æ—¶å‘¼æ°”",
                    "åˆå­¦è€…å¯ä»¥å…ˆç»ƒä¹ è‡ªé‡æ·±è¹²ï¼Œå†é€æ­¥å¢åŠ è´Ÿé‡",
                ],
            },
            {
                id: "leg-extension",
                name: "è…¿å±ˆä¼¸",
                bodyPart: "è…¿éƒ¨",
                type: "training",
                description:
                    "è…¿å±ˆä¼¸æ˜¯è‚¡å››å¤´è‚Œçš„å­¤ç«‹è®­ç»ƒåŠ¨ä½œï¼Œä½¿ç”¨ä¸“ç”¨å™¨æ¢°å®Œæˆï¼Œèƒ½æœ‰æ•ˆå¡‘é€ å¤§è…¿å‰ä¾§è‚Œè‚‰çº¿æ¡ã€‚",
                muscles: ["è‚¡å››å¤´è‚Œ"],
                steps: [
                    "ååœ¨è…¿å±ˆä¼¸å™¨æ¢°ä¸Šï¼ŒèƒŒéƒ¨ç´§è´´é èƒŒ",
                    "å°†è„šè¸æ”¾åœ¨æ»šå«ä¸‹æ–¹ï¼Œè°ƒæ•´å™¨æ¢°ä½¿è†ç›–ä¸è½¬è½´å¯¹é½",
                    "åŒæ‰‹æŠ“ä½ä¾§è¾¹æŠŠæ‰‹ï¼Œç¨³å®šèº«ä½“",
                    "ç”¨è‚¡å››å¤´è‚Œå‘åŠ›ï¼Œä¼¸ç›´åŒè…¿è‡³æœ€é«˜ç‚¹",
                    "åœ¨é¡¶å³°ä½ç½®ç¨ä½œåœç•™ï¼Œæ„Ÿå—è‚¡å››å¤´è‚Œæ”¶ç¼©",
                    "ç¼“æ…¢ä¸‹æ”¾é‡é‡è‡³èµ·å§‹ä½ç½®",
                ],
                tips: [
                    "é¿å…ä½¿ç”¨è¿‡å¤§é‡é‡ï¼Œä»¥å…å¯¹è†å…³èŠ‚é€ æˆå‹åŠ›",
                    "åŠ¨ä½œè¦æ§åˆ¶ï¼Œä¸è¦ç”¨çˆ†å‘åŠ›",
                    "åœ¨é¡¶å³°ä½ç½®å……åˆ†æ”¶ç¼©è‚¡å››å¤´è‚Œ",
                ],
            },
            {
                id: "dumbbell-press",
                name: "å“‘é“ƒæ¨ä¸¾",
                bodyPart: "è‚©éƒ¨",
                type: "training",
                description:
                    "å“‘é“ƒæ¨ä¸¾æ˜¯è‚©éƒ¨è®­ç»ƒçš„æ ¸å¿ƒåŠ¨ä½œï¼Œä¸»è¦é”»ç‚¼ä¸‰è§’è‚Œï¼ŒåŒæ—¶ä¹Ÿèƒ½é”»ç‚¼åˆ°è‚±ä¸‰å¤´è‚Œå’Œä¸Šèƒ¸éƒ¨ã€‚",
                muscles: ["ä¸‰è§’è‚Œå‰æŸ", "è‚±ä¸‰å¤´è‚Œ", "ä¸Šèƒ¸å¤§è‚Œ"],
                steps: [
                    "ååœ¨å‡³ä¸Šï¼ŒèƒŒéƒ¨æŒºç›´ï¼ŒåŒè„šç¨³å›ºè¸©åœ°",
                    "åŒæ‰‹å„æ¡ä¸€å“‘é“ƒï¼Œä¸¾è‡³è‚©éƒ¨é«˜åº¦ï¼ŒæŒå¿ƒå‘å‰",
                    "æ ¸å¿ƒæ”¶ç´§ï¼Œç”¨è‚©éƒ¨åŠ›é‡å°†å“‘é“ƒå‘ä¸Šæ¨ä¸¾",
                    "åœ¨æœ€é«˜ç‚¹ç¨ä½œåœç•™ï¼Œæ„Ÿå—è‚©éƒ¨è‚Œè‚‰æ”¶ç¼©",
                    "ç¼“æ…¢ä¸‹æ”¾å“‘é“ƒè‡³è‚©éƒ¨é«˜åº¦",
                    "é‡å¤åŠ¨ä½œè‡³å®Œæˆç›®æ ‡æ¬¡æ•°",
                ],
                tips: [
                    "ä¿æŒèƒŒéƒ¨æŒºç›´ï¼Œé¿å…è¿‡åº¦å¼“èƒŒ",
                    "åŠ¨ä½œè¿‡ç¨‹ä¸­æ§åˆ¶å“‘é“ƒï¼Œé¿å…æ‘†åŠ¨",
                    "ä¸‹æ”¾æ—¶æ§åˆ¶é€Ÿåº¦ï¼Œæ„Ÿå—è‚Œè‚‰æ‹‰ä¼¸",
                ],
            },
            {
                id: "lateral-raise",
                name: "ä¾§å¹³ä¸¾",
                bodyPart: "è‚©éƒ¨",
                type: "training",
                description:
                    "ä¾§å¹³ä¸¾æ˜¯é’ˆå¯¹ä¸‰è§’è‚Œä¸­æŸçš„å­¤ç«‹è®­ç»ƒåŠ¨ä½œï¼Œèƒ½æœ‰æ•ˆå¢åŠ è‚©éƒ¨å®½åº¦ï¼Œå¡‘é€ 'å—ç“œè‚©'ã€‚",
                muscles: ["ä¸‰è§’è‚Œä¸­æŸ"],
                steps: [
                    "ç«™ç«‹æˆ–åç«‹ï¼ŒåŒæ‰‹å„æ¡ä¸€å“‘é“ƒï¼Œç½®äºèº«ä½“ä¸¤ä¾§",
                    "ä¿æŒè‚˜éƒ¨å¾®å¼¯ï¼Œç”¨è‚©éƒ¨åŠ›é‡å°†å“‘é“ƒå‘ä¸¤ä¾§å¹³ä¸¾",
                    "ä¸¾è‡³æ‰‹è‡‚ä¸åœ°é¢å¹³è¡Œæˆ–ç•¥é«˜",
                    "åœ¨é¡¶å³°ä½ç½®ç¨ä½œåœç•™ï¼Œæ„Ÿå—ä¸‰è§’è‚Œä¸­æŸæ”¶ç¼©",
                    "ç¼“æ…¢ä¸‹æ”¾å“‘é“ƒè‡³èµ·å§‹ä½ç½®",
                    "æ§åˆ¶åŠ¨ä½œé€Ÿåº¦ï¼Œé¿å…ä½¿ç”¨æƒ¯æ€§",
                ],
                tips: [
                    "ä½¿ç”¨è¾ƒè½»é‡é‡ï¼Œæ³¨é‡åŠ¨ä½œè´¨é‡å’Œè‚Œè‚‰æ„Ÿå—",
                    "é¿å…è€¸è‚©ï¼Œä¿æŒè‚©éƒ¨ä¸‹æ²‰",
                    "æƒ³è±¡åœ¨å€’æ°´ï¼Œå°æ‹‡æŒ‡ç•¥é«˜äºå¤§æ‹‡æŒ‡",
                ],
            },

            // æ‹‰ä¼¸åŠ¨ä½œ
            {
                id: "chest-stretch",
                name: "èƒ¸éƒ¨æ‹‰ä¼¸",
                bodyPart: "èƒ¸éƒ¨",
                type: "stretch",
                description:
                    "èƒ¸éƒ¨æ‹‰ä¼¸æ˜¯è®­ç»ƒåçš„é‡è¦æ¢å¤åŠ¨ä½œï¼Œå¯ä»¥æœ‰æ•ˆç¼“è§£èƒ¸éƒ¨è‚Œè‚‰ç´§å¼ ï¼Œæ”¹å–„åœ†è‚©é©¼èƒŒå§¿åŠ¿ï¼Œå¢åŠ èƒ¸æ¤æ´»åŠ¨åº¦ã€‚",
                muscles: ["èƒ¸å¤§è‚Œ", "èƒ¸å°è‚Œ", "ä¸‰è§’è‚Œå‰æŸ"],
                steps: [
                    "ç«™åœ¨é—¨æ¡†æˆ–å¢™è§’ï¼Œæ‰‹è‡‚å¼¯æ›²90åº¦",
                    "å‰è‡‚é åœ¨é—¨æ¡†ä¸Šï¼Œè‚˜éƒ¨ç•¥é«˜äºè‚©éƒ¨",
                    "ç¼“æ…¢å‘å‰è¿ˆä¸€æ­¥ï¼Œæ„Ÿå—èƒ¸éƒ¨çš„æ‹‰ä¼¸æ„Ÿ",
                    "ä¿æŒ15-30ç§’ï¼Œç„¶åæ¢å¦ä¸€ä¾§",
                    "æ¯ä¾§é‡å¤2-3æ¬¡",
                ],
                tips: [
                    "æ‹‰ä¼¸æ—¶ä¿æŒæ­£å¸¸å‘¼å¸ï¼Œä¸è¦æ†‹æ°”",
                    "æ‹‰ä¼¸æ„Ÿåº”è¯¥æ˜¯èˆ’é€‚çš„ï¼Œå¦‚æœæ„Ÿåˆ°ç–¼ç—›åˆ™å‡å°å¹…åº¦",
                    "å¯ä»¥å°è¯•ä¸åŒé«˜åº¦çš„æ‹‰ä¼¸ï¼Œé’ˆå¯¹èƒ¸éƒ¨çš„ä¸åŒéƒ¨ä½",
                    "è®­ç»ƒåç«‹å³è¿›è¡Œæ‹‰ä¼¸æ•ˆæœæœ€ä½³",
                ],
            },
            {
                id: "back-stretch",
                name: "èƒŒéƒ¨æ‹‰ä¼¸",
                bodyPart: "èƒŒéƒ¨",
                type: "stretch",
                description:
                    "èƒŒéƒ¨æ‹‰ä¼¸æœ‰åŠ©äºç¼“è§£èƒŒéƒ¨è‚Œè‚‰ç´§å¼ ï¼Œæ”¹å–„å§¿åŠ¿ï¼Œé¢„é˜²è…°èƒŒç–¼ç—›ã€‚ç‰¹åˆ«é€‚åˆåœ¨èƒŒéƒ¨è®­ç»ƒåè¿›è¡Œã€‚",
                muscles: ["èƒŒé˜”è‚Œ", "è±å½¢è‚Œ", "ç«–è„Šè‚Œ"],
                steps: [
                    "è·ªå§¿ï¼Œè‡€éƒ¨ååœ¨è„šåè·Ÿä¸Š",
                    "å‘å‰ä¿¯èº«ï¼ŒåŒè‡‚ä¼¸ç›´å‘å‰ä¼¸å±•",
                    "å°†èƒ¸éƒ¨è´´è¿‘å¤§è…¿ï¼Œæ„Ÿå—èƒŒéƒ¨çš„æ‹‰ä¼¸",
                    "ä¿æŒ15-30ç§’ï¼Œæ·±å‘¼å¸",
                    "é‡å¤2-3æ¬¡",
                ],
                tips: [
                    "å¦‚æœè†ç›–ä¸é€‚ï¼Œå¯ä»¥åœ¨è†ç›–ä¸‹å«æ¯›å·¾",
                    "æ‹‰ä¼¸æ—¶æƒ³è±¡èƒŒéƒ¨å‘ä¸¤ä¾§æ‰©å±•",
                    "å¯ä»¥è½»å¾®å·¦å³ç§»åŠ¨ï¼Œæ‹‰ä¼¸èƒŒéƒ¨ä¸åŒåŒºåŸŸ",
                    "é…åˆæ·±å‘¼å¸ï¼Œå‘¼æ°”æ—¶å°è¯•è¿›ä¸€æ­¥æ”¾æ¾å’Œæ‹‰ä¼¸",
                ],
            },
            {
                id: "leg-stretch",
                name: "è…¿éƒ¨æ‹‰ä¼¸",
                bodyPart: "è…¿éƒ¨",
                type: "stretch",
                description:
                    "è…¿éƒ¨æ‹‰ä¼¸æœ‰åŠ©äºç¼“è§£è…¿éƒ¨è‚Œè‚‰ç´§å¼ ï¼Œå¢åŠ æŸ”éŸ§æ€§ï¼Œä¿ƒè¿›è®­ç»ƒåæ¢å¤ã€‚ç‰¹åˆ«é€‚åˆåœ¨è…¿éƒ¨è®­ç»ƒåè¿›è¡Œã€‚",
                muscles: ["è‚¡å››å¤´è‚Œ", "è…˜ç»³è‚Œ", "è‡€å¤§è‚Œ", "å°è…¿è‚Œç¾¤"],
                steps: [
                    "è‚¡å››å¤´è‚Œæ‹‰ä¼¸ï¼šç«™ç«‹ï¼Œå°†ä¸€è„šè·Ÿæ‹‰å‘è‡€éƒ¨ï¼Œä¿æŒ15-30ç§’",
                    "è…˜ç»³è‚Œæ‹‰ä¼¸ï¼šåå§¿ï¼Œä¸€è…¿ä¼¸ç›´ï¼Œä¸€è…¿å¼¯æ›²ï¼Œå‘å‰ä¿¯èº«",
                    "å°è…¿æ‹‰ä¼¸ï¼šç«™ç«‹ï¼Œä¸€è…¿åœ¨å‰ä¸€è…¿åœ¨åï¼Œåè…¿ä¼¸ç›´è¸©åœ°",
                    "æ¯ä¸ªæ‹‰ä¼¸ä¿æŒ15-30ç§’ï¼Œæ¯ä¾§é‡å¤2-3æ¬¡",
                ],
                tips: [
                    "æ‹‰ä¼¸æ—¶è¦ä¿æŒå¹³ç¨³çš„å‘¼å¸",
                    "ä¸è¦å¼¹éœ‡å¼æ‹‰ä¼¸ï¼Œä¿æŒé™æ€æŒç»­æ‹‰ä¼¸",
                    "å¦‚æœæŸ”éŸ§æ€§è¾ƒå·®ï¼Œå¯ä»¥ä½¿ç”¨æ¯›å·¾è¾…åŠ©",
                    "è®­ç»ƒåè‚Œè‚‰æ¸©æš–æ—¶è¿›è¡Œæ‹‰ä¼¸æ•ˆæœæ›´å¥½",
                ],
            },
            {
                id: "shoulder-stretch",
                name: "è‚©éƒ¨æ‹‰ä¼¸",
                bodyPart: "è‚©éƒ¨",
                type: "stretch",
                description:
                    "è‚©éƒ¨æ‹‰ä¼¸æœ‰åŠ©äºç¼“è§£è‚©éƒ¨è‚Œè‚‰ç´§å¼ ï¼Œæ”¹å–„è‚©å…³èŠ‚æ´»åŠ¨åº¦ï¼Œé¢„é˜²è‚©éƒ¨æŸä¼¤ã€‚ç‰¹åˆ«é€‚åˆåœ¨è‚©éƒ¨è®­ç»ƒåè¿›è¡Œã€‚",
                muscles: ["ä¸‰è§’è‚Œå‰æŸ", "ä¸‰è§’è‚Œä¸­æŸ", "ä¸‰è§’è‚ŒåæŸ", "è‚©è¢–è‚Œç¾¤"],
                steps: [
                    "ä¸‰è§’è‚Œå‰æŸæ‹‰ä¼¸ï¼šå°†æ‰‹è‡‚æ¨ªè¿‡èƒ¸å‰ï¼Œç”¨å¦ä¸€æ‰‹è½»è½»åŠ å‹",
                    "ä¸‰è§’è‚ŒåæŸæ‹‰ä¼¸ï¼šå°†æ‰‹è‡‚æ¨ªè¿‡èƒ¸å‰ï¼Œè‚˜éƒ¨å¼¯æ›²90åº¦",
                    "è‚©éƒ¨ç»¼åˆæ‹‰ä¼¸ï¼šåŒæ‰‹åœ¨èƒŒåç›¸æ‰£ï¼Œå‘ä¸ŠæŠ¬èµ·",
                    "æ¯ä¸ªæ‹‰ä¼¸ä¿æŒ15-30ç§’ï¼Œæ¯ä¾§é‡å¤2-3æ¬¡",
                ],
                tips: [
                    "è‚©éƒ¨æ˜¯æ¯”è¾ƒè„†å¼±çš„å…³èŠ‚ï¼Œæ‹‰ä¼¸è¦è½»æŸ”",
                    "å¦‚æœæœ‰å…³èŠ‚ç–¼ç—›ï¼Œåœæ­¢æ‹‰ä¼¸å¹¶å’¨è¯¢ä¸“ä¸šäººå£«",
                    "å¯ä»¥ç»“åˆå‘¼å¸ï¼Œå‘¼æ°”æ—¶åŠ æ·±æ‹‰ä¼¸",
                    "å®šæœŸè¿›è¡Œè‚©éƒ¨æ‹‰ä¼¸å¯ä»¥æ”¹å–„åœ†è‚©å§¿åŠ¿",
                ],
            },
        ];

        // è®­ç»ƒè®¡åˆ’æ•°æ®
        let trainingPlans =
            JSON.parse(localStorage.getItem("trainingPlans")) || {};

        // æ—¥å†ç›¸å…³å˜é‡
        let currentDate = new Date();

        // è®¡æ—¶å™¨ç›¸å…³å˜é‡ï¼ˆç§»åˆ°å…¨å±€ä½œç”¨åŸŸï¼‰
        let restTimer = null;
        let restTimeLeft = 60; // é»˜è®¤60ç§’

        // æ‹–æ‹½ç›¸å…³å˜é‡
        let draggedExercise = null;

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener("DOMContentLoaded", function () {
            // æ¸²æŸ“æ‰€æœ‰åŠ¨ä½œ
            renderExercises(exercises);

            // åˆå§‹åŒ–æ—¥å†
            renderCalendar();

            // åˆå§‹åŒ–æ·»åŠ åŠ¨ä½œé€‰æ‹©æ¡†
            initAddExerciseSelect();

            // æœç´¢åŠŸèƒ½
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", function () {
                filterExercises();
            });

            // éƒ¨ä½ç­›é€‰åŠŸèƒ½
            const bodypartButtons = document.querySelectorAll(".bodypart-btn");
            bodypartButtons.forEach((button) => {
                button.addEventListener("click", function () {
                    // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeç±»
                    bodypartButtons.forEach((btn) => btn.classList.remove("active"));
                    // ä¸ºå½“å‰ç‚¹å‡»çš„æŒ‰é’®æ·»åŠ activeç±»
                    this.classList.add("active");
                    // ç­›é€‰åŠ¨ä½œ
                    filterExercises();
                });
            });

            // æ—¥å†å¯¼èˆªåŠŸèƒ½
            document
                .getElementById("prev-month")
                .addEventListener("click", function () {
                    currentDate.setMonth(currentDate.getMonth() - 1);
                    renderCalendar();
                });

            document
                .getElementById("next-month")
                .addEventListener("click", function () {
                    currentDate.setMonth(currentDate.getMonth() + 1);
                    renderCalendar();
                });

            // ä¸ºæ‰€æœ‰å…³é—­æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼ˆé€šè¿‡äº‹ä»¶å§”æ‰˜ï¼‰
            document.addEventListener("click", function (e) {
                if (e.target.classList.contains("close-btn")) {
                    // å…³é—­è®­ç»ƒè®¡åˆ’è¯¦æƒ…
                    if (e.target.closest(".plan-detail")) {
                        document.getElementById("plan-detail").style.display = "none";
                    }
                    // å…³é—­åŠ¨ä½œè¯¦æƒ…
                    if (e.target.classList.contains("exercise-close-btn")) {
                        document.getElementById("exercise-detail-modal").style.display = "none";
                    }
                }
            });

            // ç‚¹å‡»è¯¦æƒ…é¡µé¢èƒŒæ™¯å…³é—­è¯¦æƒ…
            document.addEventListener("click", function (e) {
                if (e.target.classList.contains("plan-detail")) {
                    e.target.style.display = "none";
                }
                if (e.target.classList.contains("exercise-detail-modal")) {
                    e.target.style.display = "none";
                }
            });

            // æ·»åŠ åŠ¨ä½œæŒ‰é’®
            document
                .getElementById("add-exercise-btn")
                .addEventListener("click", function () {
                    const select = document.getElementById("add-exercise-select");
                    const exerciseId = select.value;
                    const currentDateStr = document
                        .getElementById("plan-date")
                        .getAttribute("data-date");

                    if (exerciseId && currentDateStr) {
                        addExerciseToPlan(currentDateStr, exerciseId);
                        renderPlanDetail(currentDateStr);
                    }
                });

            // åˆå§‹åŒ–æ‹–æ‹½åŠŸèƒ½
            initDragAndDrop();

            // åˆå§‹åŒ–è®¡æ—¶å™¨åŠŸèƒ½
            initTimer();
        });

        // åˆå§‹åŒ–æ‹–æ‹½åŠŸèƒ½
        function initDragAndDrop() {
            // è®¾ç½®æ‹–æ‹½äº‹ä»¶ç›‘å¬å™¨
            document.addEventListener("dragstart", function (e) {
                if (e.target.classList.contains("exercise-item")) {
                    draggedExercise = e.target.getAttribute("data-exercise");
                    e.target.classList.add("dragging");
                    e.dataTransfer.setData("text/plain", draggedExercise);
                }
            });

            document.addEventListener("dragend", function (e) {
                if (e.target.classList.contains("exercise-item")) {
                    e.target.classList.remove("dragging");
                }
            });

            document.addEventListener("dragover", function (e) {
                if (
                    e.target.classList.contains("calendar-day") &&
                    e.target.classList.contains("current-month")
                ) {
                    e.preventDefault();
                    e.target.classList.add("drop-zone");
                }
            });

            document.addEventListener("dragleave", function (e) {
                if (e.target.classList.contains("calendar-day")) {
                    e.target.classList.remove("drop-zone");
                }
            });

            document.addEventListener("drop", function (e) {
                e.preventDefault();
                if (
                    e.target.classList.contains("calendar-day") &&
                    e.target.classList.contains("current-month")
                ) {
                    e.target.classList.remove("drop-zone");

                    const dateStr = getDateStringFromElement(e.target);
                    const exerciseId = e.dataTransfer.getData("text/plain");

                    if (dateStr && exerciseId) {
                        addExerciseToPlan(dateStr, exerciseId);
                        renderDayExercises(dateStr);
                    }
                }
            });
        }

        // åˆå§‹åŒ–è®¡æ—¶å™¨åŠŸèƒ½
        function initTimer() {
            const timerModal = document.getElementById("timer-modal");
            const timerDisplay = document.getElementById("timer-display");
            const add10sBtn = document.getElementById("add-10s");
            const subtract10sBtn = document.getElementById("subtract-10s");
            const skipTimerBtn = document.getElementById("skip-timer");

            // +10ç§’æŒ‰é’®
            add10sBtn.addEventListener("click", function () {
                restTimeLeft += 10;
                updateTimerDisplay(timerDisplay);
            });

            // -10ç§’æŒ‰é’®
            subtract10sBtn.addEventListener("click", function () {
                if (restTimeLeft > 10) {
                    restTimeLeft -= 10;
                    updateTimerDisplay(timerDisplay);
                }
            });

            // è·³è¿‡æŒ‰é’® - ç›´æ¥å…³é—­è®¡æ—¶å™¨ç•Œé¢
            skipTimerBtn.addEventListener("click", function () {
                stopTimer();
                timerModal.style.display = "none";
                // é‡ç½®è®¡æ—¶å™¨
                restTimeLeft = 60;
                updateTimerDisplay(timerDisplay);
            });

            // åˆå§‹æ˜¾ç¤º
            updateTimerDisplay(timerDisplay);
        }

        // æ›´æ–°è®¡æ—¶å™¨æ˜¾ç¤ºï¼ˆç§»åˆ°å…¨å±€ä½œç”¨åŸŸï¼‰
        function updateTimerDisplay(timerDisplay) {
            const minutes = Math.floor(restTimeLeft / 60);
            const seconds = restTimeLeft % 60;
            timerDisplay.textContent = `${minutes
                .toString()
                .padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
        }

        // å¼€å§‹è®¡æ—¶å™¨ï¼ˆç§»åˆ°å…¨å±€ä½œç”¨åŸŸï¼‰
        function startTimer() {
            const timerDisplay = document.getElementById("timer-display");

            if (restTimer) {
                clearInterval(restTimer);
            }

            // ç«‹å³æ›´æ–°ä¸€æ¬¡æ˜¾ç¤º
            updateTimerDisplay(timerDisplay);

            restTimer = setInterval(function () {
                restTimeLeft--;
                updateTimerDisplay(timerDisplay);

                if (restTimeLeft <= 0) {
                    stopTimer();
                    timerDisplay.textContent = "æ—¶é—´åˆ°!";

                    // æ’­æ”¾æç¤ºéŸ³
                    playBeepSound();

                    // 3ç§’åè‡ªåŠ¨å…³é—­
                    setTimeout(function () {
                        const timerModal = document.getElementById("timer-modal");
                        timerModal.style.display = "none";
                        // é‡ç½®è®¡æ—¶å™¨
                        restTimeLeft = 60;
                        updateTimerDisplay(timerDisplay);
                    }, 3000);
                }
            }, 1000);
        }

        // åœæ­¢è®¡æ—¶å™¨ï¼ˆç§»åˆ°å…¨å±€ä½œç”¨åŸŸï¼‰
        function stopTimer() {
            if (restTimer) {
                clearInterval(restTimer);
                restTimer = null;
            }
        }

        // æ’­æ”¾æç¤ºéŸ³ï¼ˆç§»åˆ°å…¨å±€ä½œç”¨åŸŸï¼‰
        function playBeepSound() {
            try {
                const audioContext = new (window.AudioContext ||
                    window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.frequency.value = 800;
                oscillator.type = "sine";

                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(
                    0.01,
                    audioContext.currentTime + 1
                );

                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 1);
            } catch (e) {
                console.log("æ— æ³•æ’­æ”¾æç¤ºéŸ³:", e);
            }
        }

        // æ˜¾ç¤ºè®¡æ—¶å™¨å¼¹çª—ï¼ˆä¿®å¤ç‰ˆæœ¬ï¼‰
        function showTimerModal() {
            const timerModal = document.getElementById("timer-modal");
            timerModal.style.display = "flex";
            // é‡ç½®è®¡æ—¶å™¨ä¸º60ç§’
            restTimeLeft = 60;
            // ç«‹å³å¼€å§‹è®¡æ—¶
            startTimer();
        }

        // ä»å…ƒç´ è·å–æ—¥æœŸå­—ç¬¦ä¸²
        function getDateStringFromElement(element) {
            const dayElement = element.querySelector(".day-number");
            if (!dayElement) return null;

            const day = parseInt(dayElement.textContent);
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth() + 1;

            return `${year}-${month}-${day}`;
        }

        // æ¸²æŸ“åŠ¨ä½œåˆ—è¡¨
        function renderExercises(exercisesToRender) {
            const exerciseGrid = document.getElementById("exerciseGrid");
            exerciseGrid.innerHTML = "";

            if (exercisesToRender.length === 0) {
                exerciseGrid.innerHTML =
                    '<div class="no-results">æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„åŠ¨ä½œ</div>';
                return;
            }

            exercisesToRender.forEach((exercise) => {
                const exerciseItem = document.createElement("div");
                exerciseItem.className = "exercise-item";
                exerciseItem.setAttribute("data-exercise", exercise.id);
                exerciseItem.setAttribute("draggable", "true");

                // æ ¹æ®ç±»å‹æ·»åŠ ä¸åŒçš„æ ·å¼ç±»
                let typeBadge = "";
                if (exercise.type === "warmup") {
                    typeBadge = '<span class="exercise-type warmup">çƒ­èº«</span>';
                } else if (exercise.type === "stretch") {
                    typeBadge = '<span class="exercise-type stretch">æ‹‰ä¼¸</span>';
                } else if (exercise.type === "training") {
                    typeBadge = '<span class="exercise-type training">è®­ç»ƒ</span>';
                }

                exerciseItem.innerHTML = `
                            ${typeBadge}
                            <h3>${exercise.name}</h3>
                            <p>éƒ¨ä½: ${exercise.bodyPart}</p>
                            <div class="muscle-tags">
                                ${exercise.muscles
                                    .map(
                                        (muscle) =>
                                            `<span class="muscle-tag">${muscle}</span>`
                                    )
                                    .join("")}
                            </div>
                        `;

                exerciseGrid.appendChild(exerciseItem);
            });
        }

        // ç­›é€‰åŠ¨ä½œ
        function filterExercises() {
            const searchTerm = document
                .getElementById("searchInput")
                .value.toLowerCase();
            const activeBodypart = document.querySelector(".bodypart-btn.active")
                .dataset.bodypart;

            const filteredExercises = exercises.filter((exercise) => {
                // æ£€æŸ¥åŠ¨ä½œåç§°æ˜¯å¦åŒ¹é…
                const matchesName = exercise.name.toLowerCase().includes(searchTerm);

                // æ£€æŸ¥è‚Œè‚‰åç§°æ˜¯å¦åŒ¹é…
                const matchesMuscles = exercise.muscles.some((muscle) =>
                    muscle.toLowerCase().includes(searchTerm)
                );

                // æ£€æŸ¥éƒ¨ä½æ˜¯å¦åŒ¹é…
                const matchesBodypart =
                    activeBodypart === "all" || exercise.bodyPart === activeBodypart;

                // è¿”å›åŒ¹é…ç»“æœï¼šåç§°æˆ–è‚Œè‚‰åŒ¹é…ï¼Œå¹¶ä¸”éƒ¨ä½å’Œç±»å‹åŒ¹é…
                return (matchesName || matchesMuscles) && matchesBodypart;
            });

            renderExercises(filteredExercises);
        }

        // æ¸²æŸ“æ—¥å†
        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();

            // æ›´æ–°æ—¥å†æ ‡é¢˜
            document.getElementById("calendar-month").textContent = `${year}å¹´${
                month + 1
            }æœˆ`;

            // è·å–å½“æœˆç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);

            // è·å–å½“æœˆç¬¬ä¸€å¤©æ˜¯æ˜ŸæœŸå‡  (0 = æ˜ŸæœŸæ—¥, 6 = æ˜ŸæœŸå…­)
            const firstDayIndex = firstDay.getDay();

            // è·å–å½“æœˆæ€»å¤©æ•°
            const daysInMonth = lastDay.getDate();

            // è·å–ä¸Šä¸ªæœˆæœ€åå‡ å¤©
            const prevLastDay = new Date(year, month, 0).getDate();

            // æ¸…ç©ºæ—¥å†
            const calendarDays = document.getElementById("calendar-days");
            calendarDays.innerHTML = "";

            // æ·»åŠ ä¸Šä¸ªæœˆçš„æ—¥æœŸ
            for (let i = firstDayIndex; i > 0; i--) {
                const dayElement = document.createElement("div");
                dayElement.className = "calendar-day empty";
                dayElement.textContent = prevLastDay - i + 1;
                calendarDays.appendChild(dayElement);
            }

            // æ·»åŠ å½“æœˆæ—¥æœŸ
            const today = new Date();
            for (let i = 1; i <= daysInMonth; i++) {
                const dayElement = document.createElement("div");
                dayElement.className = "calendar-day current-month";

                // æ£€æŸ¥æ˜¯å¦æ˜¯ä»Šå¤©
                if (
                    year === today.getFullYear() &&
                    month === today.getMonth() &&
                    i === today.getDate()
                ) {
                    dayElement.classList.add("today");
                }

                const dateStr = `${year}-${month + 1}-${i}`;

                dayElement.innerHTML = `
                            <div class="day-number">${i}</div>
                            <div class="day-exercises" id="day-${dateStr}"></div>
                        `;

                // æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ‰“å¼€è®¡åˆ’è¯¦æƒ…
                dayElement.addEventListener("click", function () {
                    showPlanDetail(dateStr);
                });

                calendarDays.appendChild(dayElement);

                // æ¸²æŸ“å½“å¤©çš„è®­ç»ƒè®¡åˆ’
                renderDayExercises(dateStr);
            }

            // è®¡ç®—è¿˜éœ€è¦æ·»åŠ å¤šå°‘å¤©æ¥å¡«æ»¡æ—¥å†
            const totalCells = 42; // 6è¡Œ * 7å¤©
            const remainingCells = totalCells - (firstDayIndex + daysInMonth);

            // æ·»åŠ ä¸‹ä¸ªæœˆçš„æ—¥æœŸ
            for (let i = 1; i <= remainingCells; i++) {
                const dayElement = document.createElement("div");
                dayElement.className = "calendar-day empty";
                dayElement.textContent = i;
                calendarDays.appendChild(dayElement);
            }
        }

        // æ¸²æŸ“æŸä¸€å¤©çš„è®­ç»ƒåŠ¨ä½œ
        function renderDayExercises(dateStr) {
            const dayExercisesElement = document.getElementById(`day-${dateStr}`);
            if (!dayExercisesElement) return;

            dayExercisesElement.innerHTML = "";

            if (trainingPlans[dateStr] && trainingPlans[dateStr].length > 0) {
                trainingPlans[dateStr].forEach((exerciseId) => {
                    const exercise = exercises.find((e) => e.id === exerciseId);
                    if (exercise) {
                        const badge = document.createElement("span");
                        badge.className = "exercise-badge";

                        // æ ¹æ®åŠ¨ä½œç±»å‹æ·»åŠ ä¸åŒçš„æ ·å¼ç±»
                        if (exercise.type === "warmup") {
                            badge.classList.add("warmup");
                        } else if (exercise.type === "stretch") {
                            badge.classList.add("stretch");
                        }

                        badge.textContent = exercise.name;
                        dayExercisesElement.appendChild(badge);
                    }
                });
            }
        }

        // æ˜¾ç¤ºè®­ç»ƒè®¡åˆ’è¯¦æƒ…
        function showPlanDetail(dateStr) {
            document.getElementById(
                "plan-date"
            ).textContent = `${dateStr} è®­ç»ƒè®¡åˆ’`;
            document.getElementById("plan-date").setAttribute("data-date", dateStr);
            renderPlanDetail(dateStr);
            document.getElementById("plan-detail").style.display = "block";
        }

        // æ¸²æŸ“è®­ç»ƒè®¡åˆ’è¯¦æƒ…
        function renderPlanDetail(dateStr) {
            const planExercisesElement = document.getElementById("plan-exercises");
            planExercisesElement.innerHTML = "";

            if (!trainingPlans[dateStr] || trainingPlans[dateStr].length === 0) {
                planExercisesElement.innerHTML =
                    '<p style="text-align: center; color: #666;">æš‚æ— è®­ç»ƒè®¡åˆ’ï¼Œè¯·æ·»åŠ åŠ¨ä½œ</p>';
                return;
            }

            trainingPlans[dateStr].forEach((exerciseId, index) => {
                const exercise = exercises.find((e) => e.id === exerciseId);
                if (exercise) {
                    const exerciseItem = document.createElement("div");
                    exerciseItem.className = "plan-exercise-item";

                    // è·å–è¯¥åŠ¨ä½œçš„è®­ç»ƒæ•°æ®
                    const exerciseData = getExerciseData(dateStr, exerciseId) || {
                        sets: [{ reps: "", weight: "", completed: false }],
                    };

                    exerciseItem.innerHTML = `
                                <div class="exercise-header">
                                    <h3>${exercise.name}</h3>
                                    <button class="remove-exercise" data-exercise="${exerciseId}">åˆ é™¤</button>
                                </div>
                                <div class="sets-container" id="sets-${exerciseId}">
                                    ${exerciseData.sets
                                        .map(
                                            (set, setIndex) => `
                                        <div class="set-item">
                                            <div class="set-number">ç¬¬${
                                                setIndex + 1
                                            }ç»„</div>
                                            <div class="input-with-unit">
                                                <input type="number" class="set-input reps-input" placeholder="æ¬¡æ•°" value="${
                                                    set.reps || ""
                                                }" data-set="${setIndex}" data-exercise="${exerciseId}">
                                                <span class="unit-label">æ¬¡</span>
                                            </div>
                                            <div class="input-with-unit">
                                                <input type="number" class="set-input weight-input" placeholder="é‡é‡" value="${
                                                    set.weight || ""
                                                }" data-set="${setIndex}" data-exercise="${exerciseId}">
                                                <span class="unit-label">kg</span>
                                            </div>
                                            <div class="set-complete">
                                                <input type="checkbox" class="complete-checkbox" ${
                                                    set.completed ? "checked" : ""
                                                } data-set="${setIndex}" data-exercise="${exerciseId}">
                                                <span class="complete-label">å®Œæˆ</span>
                                            </div>
                                            <button class="delete-set-btn" data-set="${setIndex}" data-exercise="${exerciseId}">åˆ é™¤ç»„</button>
                                        </div>
                                    `
                                        )
                                        .join("")}
                                </div>
                                <button class="add-set-btn" data-exercise="${exerciseId}">æ·»åŠ ç»„</button>
                            `;

                    planExercisesElement.appendChild(exerciseItem);
                }
            });

            // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
            addPlanEventListeners(dateStr);
        }

        // æ·»åŠ è®­ç»ƒè®¡åˆ’è¯¦æƒ…çš„äº‹ä»¶ç›‘å¬å™¨
        function addPlanEventListeners(dateStr) {
            // åˆ é™¤åŠ¨ä½œæŒ‰é’®
            document.querySelectorAll(".remove-exercise").forEach((button) => {
                button.addEventListener("click", function () {
                    const exerciseId = this.getAttribute("data-exercise");
                    removeExerciseFromPlan(dateStr, exerciseId);
                    renderPlanDetail(dateStr);
                    renderDayExercises(dateStr);
                });
            });

            // æ·»åŠ ç»„æŒ‰é’®
            document.querySelectorAll(".add-set-btn").forEach((button) => {
                button.addEventListener("click", function () {
                    const exerciseId = this.getAttribute("data-exercise");
                    addSetToExercise(dateStr, exerciseId);
                    renderPlanDetail(dateStr);
                });
            });

            // åˆ é™¤ç»„æŒ‰é’®
            document.querySelectorAll(".delete-set-btn").forEach((button) => {
                button.addEventListener("click", function () {
                    const exerciseId = this.getAttribute("data-exercise");
                    const setIndex = parseInt(this.getAttribute("data-set"));
                    removeSetFromExercise(dateStr, exerciseId, setIndex);
                    renderPlanDetail(dateStr);
                });
            });

            // è¾“å…¥æ¡†å˜åŒ–äº‹ä»¶
            document.querySelectorAll(".set-input").forEach((input) => {
                input.addEventListener("change", function () {
                    const exerciseId = this.getAttribute("data-exercise");
                    const setIndex = parseInt(this.getAttribute("data-set"));
                    const field = this.classList.contains("reps-input")
                        ? "reps"
                        : "weight";
                    const value = this.value;

                    updateExerciseData(dateStr, exerciseId, setIndex, field, value);
                });
            });

            // å®Œæˆå¤é€‰æ¡†äº‹ä»¶
            document.querySelectorAll(".complete-checkbox").forEach((checkbox) => {
                checkbox.addEventListener("change", function () {
                    const exerciseId = this.getAttribute("data-exercise");
                    const setIndex = parseInt(this.getAttribute("data-set"));
                    const completed = this.checked;

                    updateExerciseData(
                        dateStr,
                        exerciseId,
                        setIndex,
                        "completed",
                        completed
                    );

                    // å¦‚æœå®Œæˆï¼Œå¯åŠ¨ä¼‘æ¯è®¡æ—¶å™¨
                    if (completed) {
                        showTimerModal();
                    }
                });
            });
        }

        // è·å–åŠ¨ä½œçš„è®­ç»ƒæ•°æ®
        function getExerciseData(dateStr, exerciseId) {
            if (!trainingPlans[dateStr] || !trainingPlans[dateStr].exerciseData) {
                return null;
            }
            return trainingPlans[dateStr].exerciseData[exerciseId];
        }

        // æ›´æ–°åŠ¨ä½œçš„è®­ç»ƒæ•°æ®
        function updateExerciseData(dateStr, exerciseId, setIndex, field, value) {
            if (!trainingPlans[dateStr].exerciseData) {
                trainingPlans[dateStr].exerciseData = {};
            }

            if (!trainingPlans[dateStr].exerciseData[exerciseId]) {
                trainingPlans[dateStr].exerciseData[exerciseId] = {
                    sets: [],
                };
            }

            if (!trainingPlans[dateStr].exerciseData[exerciseId].sets[setIndex]) {
                trainingPlans[dateStr].exerciseData[exerciseId].sets[setIndex] = {};
            }

            trainingPlans[dateStr].exerciseData[exerciseId].sets[setIndex][field] =
                value;
            saveTrainingPlans();
        }

        // æ·»åŠ ç»„åˆ°åŠ¨ä½œ
        function addSetToExercise(dateStr, exerciseId) {
            if (!trainingPlans[dateStr].exerciseData) {
                trainingPlans[dateStr].exerciseData = {};
            }

            if (!trainingPlans[dateStr].exerciseData[exerciseId]) {
                trainingPlans[dateStr].exerciseData[exerciseId] = {
                    sets: [],
                };
            }

            trainingPlans[dateStr].exerciseData[exerciseId].sets.push({
                reps: "",
                weight: "",
                completed: false,
            });

            saveTrainingPlans();
        }

        // ä»åŠ¨ä½œä¸­åˆ é™¤ç»„
        function removeSetFromExercise(dateStr, exerciseId, setIndex) {
            if (
                !trainingPlans[dateStr].exerciseData ||
                !trainingPlans[dateStr].exerciseData[exerciseId] ||
                !trainingPlans[dateStr].exerciseData[exerciseId].sets[setIndex]
            ) {
                return;
            }

            trainingPlans[dateStr].exerciseData[exerciseId].sets.splice(
                setIndex,
                1
            );
            saveTrainingPlans();
        }

        // æ·»åŠ åŠ¨ä½œåˆ°è®¡åˆ’
        function addExerciseToPlan(dateStr, exerciseId) {
            if (!trainingPlans[dateStr]) {
                trainingPlans[dateStr] = [];
            }

            if (!trainingPlans[dateStr].includes(exerciseId)) {
                trainingPlans[dateStr].push(exerciseId);
                saveTrainingPlans();
            }
        }

        // ä»è®¡åˆ’ä¸­åˆ é™¤åŠ¨ä½œ
        function removeExerciseFromPlan(dateStr, exerciseId) {
            if (!trainingPlans[dateStr]) return;

            const index = trainingPlans[dateStr].indexOf(exerciseId);
            if (index !== -1) {
                trainingPlans[dateStr].splice(index, 1);

                // åŒæ—¶åˆ é™¤ç›¸å…³çš„è®­ç»ƒæ•°æ®
                if (
                    trainingPlans[dateStr].exerciseData &&
                    trainingPlans[dateStr].exerciseData[exerciseId]
                ) {
                    delete trainingPlans[dateStr].exerciseData[exerciseId];
                }

                saveTrainingPlans();
            }
        }

        // åˆå§‹åŒ–æ·»åŠ åŠ¨ä½œé€‰æ‹©æ¡†
        function initAddExerciseSelect() {
            const select = document.getElementById("add-exercise-select");
            select.innerHTML = '<option value="">é€‰æ‹©è¦æ·»åŠ çš„åŠ¨ä½œ...</option>';

            exercises.forEach((exercise) => {
                const option = document.createElement("option");
                option.value = exercise.id;
                option.textContent = exercise.name;
                select.appendChild(option);
            });
        }

        // ä¿å­˜è®­ç»ƒè®¡åˆ’åˆ°æœ¬åœ°å­˜å‚¨
        function saveTrainingPlans() {
            localStorage.setItem("trainingPlans", JSON.stringify(trainingPlans));
        }

        // æ·»åŠ åŠ¨ä½œè¯¦æƒ…ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨ï¼ˆä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼‰
        document.addEventListener("click", function (e) {
            // æ£€æŸ¥ç‚¹å‡»çš„æ˜¯å¦æ˜¯åŠ¨ä½œå¡ç‰‡ï¼ˆæ’é™¤æ‹–æ‹½å’Œå†…éƒ¨å…ƒç´ ï¼‰
            if (
                e.target.closest(".exercise-item") &&
                !e.target.closest(".exercise-item").classList.contains("dragging")
            ) {
                const exerciseItem = e.target.closest(".exercise-item");
                const exerciseId = exerciseItem.getAttribute("data-exercise");
                showExerciseDetail(exerciseId);
            }
        });

        // æ˜¾ç¤ºåŠ¨ä½œè¯¦æƒ…
        function showExerciseDetail(exerciseId) {
            const exercise = exercises.find((e) => e.id === exerciseId);
            if (!exercise) return;

            // è®¾ç½®åŸºæœ¬ä¿¡æ¯
            document.getElementById("exercise-detail-title").textContent =
                exercise.name;
            document.getElementById(
                "exercise-detail-bodypart"
            ).textContent = `éƒ¨ä½: ${exercise.bodyPart}`;
            document.getElementById("exercise-detail-description").textContent =
                exercise.description;

            // è®¾ç½®åŠ¨ä½œç±»å‹
            const typeElement = document.getElementById("exercise-detail-type");
            typeElement.textContent = getExerciseTypeText(exercise.type);
            typeElement.className = "exercise-detail-type " + exercise.type;

            // è®¾ç½®ç›®æ ‡è‚Œè‚‰
            const musclesElement = document.getElementById(
                "exercise-detail-muscles"
            );
            musclesElement.innerHTML = "";
            exercise.muscles.forEach((muscle) => {
                const muscleTag = document.createElement("span");
                muscleTag.className = "muscle-tag";
                muscleTag.textContent = muscle;
                musclesElement.appendChild(muscleTag);
            });

            // è®¾ç½®æ‰§è¡Œæ­¥éª¤
            const stepsElement = document.getElementById("exercise-detail-steps");
            stepsElement.innerHTML = "";
            exercise.steps.forEach((step) => {
                const stepItem = document.createElement("li");
                stepItem.textContent = step;
                stepsElement.appendChild(stepItem);
            });

            // è®¾ç½®è®­ç»ƒæŠ€å·§
            const tipsElement = document.getElementById("exercise-detail-tips");
            tipsElement.innerHTML = "";
            if (exercise.tips && exercise.tips.length > 0) {
                exercise.tips.forEach((tip) => {
                    const tipItem = document.createElement("li");
                    tipItem.textContent = tip;
                    tipsElement.appendChild(tipItem);
                });
            } else {
                const noTips = document.createElement("li");
                noTips.textContent = "æš‚æ— ç‰¹åˆ«çš„è®­ç»ƒæŠ€å·§æç¤ºã€‚";
                tipsElement.appendChild(noTips);
            }

            // è®¾ç½®GIFå›¾ç‰‡
            const gifElement = document.getElementById("exercise-detail-gif");
            gifElement.innerHTML = "";
            if (exercise.gif) {
                const gifImg = document.createElement("img");
                gifImg.src = exercise.gif;
                gifImg.alt = exercise.name;
                gifElement.appendChild(gifImg);
            } else {
                gifElement.innerHTML = "<p>æš‚æ— åŠ¨ä½œæ¼”ç¤ºå›¾</p>";
            }

            // æ˜¾ç¤ºå¼¹çª—
            document.getElementById("exercise-detail-modal").style.display =
                "block";
        }

        // è·å–åŠ¨ä½œç±»å‹çš„ä¸­æ–‡æ–‡æœ¬
        function getExerciseTypeText(type) {
            switch (type) {
                case "warmup":
                    return "çƒ­èº«";
                case "stretch":
                    return "æ‹‰ä¼¸";
                case "training":
                    return "è®­ç»ƒ";
                default:
                    return "è®­ç»ƒ";
            }
        }
    </script>
</body>
</html>