<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ËÆ≠ÁªÉËÆ°Âàí</title>
    <style>
        /* Ê†∑Âºè‰ª£Á†Å‰øùÊåÅ‰∏çÂèò */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #4a90e2 0%, #2a6dc7 100%);
            border-radius: 10px;
            max-width: 1800px;
            margin-left: auto;
            margin-right: auto;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }

        .container {
            display: flex;
            max-width: 1800px;
            margin: 0 auto;
            gap: 20px;
        }

        .exercises-section {
            flex: 1;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        .calendar-section {
            flex: 1;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        /* Âä®‰ΩúËØ¶ÊÉÖÂºπÁ™óÊ†∑Âºè */
        .exercise-detail-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }

        .exercise-detail-content {
            background: white;
            max-width: 800px;
            margin: 20px auto;
            padding: 30px;
            border-radius: 15px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .exercise-detail-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .exercise-detail-title {
            font-size: 24px;
            color: #333;
            margin: 0;
        }

        .exercise-detail-bodypart {
            font-size: 18px;
            color: #666;
            margin: 5px 0 15px 0;
        }

        .exercise-detail-type {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 15px;
        }

        .exercise-detail-type.warmup {
            background: #fff3cd;
            color: #856404;
        }

        .exercise-detail-type.stretch {
            background: #d1ecf1;
            color: #0c5460;
        }

        .exercise-detail-type.training {
            background: #d4edda;
            color: #155724;
        }

        .exercise-detail-description {
            font-size: 16px;
            line-height: 1.6;
            color: #555;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .exercise-detail-section {
            margin-bottom: 25px;
        }

        .exercise-detail-section h3 {
            font-size: 18px;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 8px;
        }

        .exercise-detail-muscles {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .muscle-tag {
            background: #e9ecef;
            color: #495057;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: default;
        }

        .exercise-detail-steps {
            list-style-type: none;
            padding: 0;
        }

        .exercise-detail-steps li {
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
            counter-increment: step-counter;
            position: relative;
            padding-left: 40px;
        }

        .exercise-detail-steps li:before {
            content: counter(step-counter);
            background: #4a90e2;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            font-size: 12px;
            font-weight: bold;
        }

        .exercise-detail-tips {
            list-style-type: none;
            padding: 0;
        }

        .exercise-detail-tips li {
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
            padding-left: 30px;
            position: relative;
        }

        .exercise-detail-tips li:before {
            content: "üí°";
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
        }

        .exercise-detail-gif {
            text-align: center;
            margin: 20px 0;
        }

        .exercise-detail-gif img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .exercise-detail-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        @media (max-width: 768px) {
            .exercise-detail-actions {
                flex-direction: column;
            }
        }

        /* Á≠õÈÄâÂå∫ÂüüÊ†∑Âºè */
        .filters {
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 10px;
        }

        .search-box {
            flex: 1;
            min-width: 250px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 20px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .search-box input:focus {
            border-color: #4a90e2;
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);
        }

        .bodypart-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .bodypart-btn {
            padding: 10px 18px;
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: 500;
        }

        .bodypart-btn:hover {
            background: #e9e9e9;
            transform: translateY(-2px);
        }

        .bodypart-btn.active {
            background: #4a90e2;
            color: white;
            border-color: #4a90e2;
            box-shadow: 0 2px 5px rgba(74, 144, 226, 0.3);
        }

        .exercise-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            max-height: 70vh;
            overflow-y: auto;
            padding: 10px;
        }

        .exercise-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: grab;
            position: relative;
            overflow: hidden;
            padding-top: 45px;
            border: 2px solid transparent;
        }

        .exercise-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .exercise-item:active {
            cursor: grabbing;
        }

        .exercise-item.dragging {
            opacity: 0.5;
            border: 2px dashed #4a90e2;
        }

        /* Âä®‰ΩúÁ±ªÂûãÊ†áÁ≠æ */
        .exercise-type {
            position: absolute;
            top: 15px;
            left: 15px;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            z-index: 2;
        }

        .exercise-type.warmup {
            background: #fff3cd;
            color: #856404;
        }

        .exercise-type.stretch {
            background: #d1ecf1;
            color: #0c5460;
        }

        .exercise-type.training {
            background: #d4edda;
            color: #155724;
        }

        .exercise-item h3 {
            margin: 0 0 10px 0;
            font-size: 18px;
            color: #333;
            line-height: 1.3;
        }

        .exercise-item p {
            margin: 0 0 12px 0;
            color: #666;
            font-size: 14px;
        }

        .muscle-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .muscle-tag {
            background: #e9ecef;
            color: #495057;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            cursor: default;
            transition: all 0.3s;
        }

        .muscle-tag:hover {
            background: #e9ecef;
            color: #495057;
            transform: none;
        }

        .no-results {
            grid-column: 1 / -1;
            text-align: center;
            padding: 50px;
            background: white;
            border-radius: 10px;
            color: #666;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        /* Êó•ÂéÜÊ†∑Âºè */
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-header h2 {
            color: #333;
            font-size: 22px;
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .calendar-nav button {
            padding: 8px 15px;
            background: #4a90e2;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .calendar-nav button:hover {
            background: #2a6dc7;
            transform: translateY(-2px);
        }

        .calendar-weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            color: #555;
        }

        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }

        .calendar-day {
            min-height: 110px;
            border: 1px solid #eee;
            padding: 10px;
            border-radius: 8px;
            background: #f9f9f9;
            transition: background 0.3s;
        }

        .calendar-day.empty {
            background: #f5f5f5;
        }

        .calendar-day.current-month {
            background: white;
        }

        .calendar-day.today {
            background: #fff9e6;
            border-color: #ffcc00;
        }

        .calendar-day.drop-zone {
            background: #e6f7ff;
            border: 2px dashed #4a90e2;
        }

        .day-number {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .day-exercises {
            font-size: 12px;
            color: #666;
        }

        .exercise-badge {
            display: inline-block;
            background: #4a90e2;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            margin: 2px;
            font-size: 10px;
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            cursor: pointer;
        }

        /* ÁÉ≠Ë∫´ÂíåÊãâ‰º∏Âä®‰ΩúÁöÑÂæΩÁ´†Ê†∑Âºè */
        .exercise-badge.warmup {
            background: #ffc107;
        }

        .exercise-badge.stretch {
            background: #17a2b8;
        }

        /* ËÆ≠ÁªÉËÆ°ÂàíËØ¶ÊÉÖ */
        .plan-detail {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }

        .plan-content {
            background: white;
            max-width: 800px;
            margin: 20px auto;
            padding: 30px;
            border-radius: 15px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 28px;
            cursor: pointer;
            background: none;
            border: none;
            color: #666;
            z-index: 1001;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .close-btn:hover {
            background: #f5f5f5;
            color: #333;
        }

        .plan-exercises {
            margin-top: 20px;
        }

        .plan-exercise-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #4a90e2;
        }

        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .remove-exercise {
            background: #ff4d4d;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 8px 15px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .remove-exercise:hover {
            background: #e60000;
            transform: translateY(-2px);
        }

        .sets-container {
            margin-top: 15px;
        }

        .set-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            padding: 12px;
            background: white;
            border-radius: 8px;
            flex-wrap: wrap;
            border: 1px solid #e9ecef;
        }

        .set-number {
            font-weight: bold;
            min-width: 40px;
            color: #555;
        }

        .set-input {
            width: 90px;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            transition: border-color 0.3s;
        }

        .set-input:focus {
            border-color: #4a90e2;
            outline: none;
        }

        .input-with-unit {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .unit-label {
            font-size: 13px;
            color: #666;
            white-space: nowrap;
        }

        .set-complete {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .complete-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .complete-label {
            font-size: 13px;
            color: #666;
        }

        .add-set-btn {
            background: #4a90e2;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 8px 15px;
            cursor: pointer;
            margin-top: 8px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .add-set-btn:hover {
            background: #2a6dc7;
            transform: translateY(-2px);
        }

        .delete-set-btn {
            background: #ff4d4d;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 6px 10px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
        }

        .delete-set-btn:hover {
            background: #e60000;
        }

        .add-exercise-select {
            width: 100%;
            padding: 12px 15px;
            margin-top: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .add-exercise-select:focus {
            border-color: #4a90e2;
            outline: none;
        }

        #add-exercise-btn {
            margin-top: 15px;
            padding: 12px 20px;
            background: #4a90e2;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s;
            width: 100%;
        }

        #add-exercise-btn:hover {
            background: #2a6dc7;
            transform: translateY(-2px);
        }

        /* ËÆ°Êó∂Âô®ÂºπÁ™óÊ†∑Âºè */
        .timer-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .timer-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            max-width: 400px;
            width: 90%;
            overflow: hidden;
        }

        .timer-display {
            font-size: 64px;
            font-weight: bold;
            color: #4a90e2;
            margin: 20px 0;
            font-family: "Courier New", monospace;
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .timer-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            min-width: 100px;
            box-sizing: border-box;
        }

        .timer-btn.secondary {
            background: #6c757d;
            color: white;
        }

        .timer-btn.secondary:hover {
            background: #545b62;
        }

        .timer-btn.danger {
            background: #dc3545;
            color: white;
        }

        .timer-btn.danger:hover {
            background: #c82333;
        }

        .timer-title {
            font-size: 24px;
            margin-bottom: 10px;
            color: #333;
        }

        .timer-subtitle {
            color: #666;
            margin-bottom: 20px;
        }

        @media (max-width: 1200px) {
            .container {
                flex-direction: column;
            }

            .exercise-grid {
                max-height: 50vh;
            }
        }

        @media (max-width: 768px) {
            .filters {
                flex-direction: column;
                align-items: stretch;
            }

            .bodypart-filters {
                justify-content: center;
            }

            .calendar-day {
                min-height: 90px;
                font-size: 12px;
            }

            .exercise-badge {
                font-size: 9px;
                padding: 2px 6px;
            }

            .set-item {
                flex-wrap: wrap;
            }

            .input-with-unit {
                flex-wrap: wrap;
            }

            .timer-display {
                font-size: 48px;
            }

            .timer-controls {
                flex-direction: column;
                gap: 10px;
            }

            .timer-btn {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <header>
        <h1>ËÆ≠ÁªÉËÆ°Âàí</h1>
    </header>

    <div class="container">
        <!-- Âä®‰ΩúÂ∫ìÂå∫Âüü -->
        <div class="exercises-section">
            <h2>Âä®‰ΩúÂ∫ì</h2>

            <!-- ÊêúÁ¥¢ÂíåÁ≠õÈÄâÂå∫Âüü -->
            <div class="filters">
                <div class="search-box">
                    <input
                        type="text"
                        id="searchInput"
                        placeholder="ÊêúÁ¥¢Âä®‰ΩúÂêçÁß∞ÊàñËÇåËÇâÂêçÁß∞..."
                    />
                </div>
                <div class="bodypart-filters">
                    <button class="bodypart-btn active" data-bodypart="all">
                        ÂÖ®ÈÉ®
                    </button>
                    <button class="bodypart-btn" data-bodypart="ËÉ∏ÈÉ®">ËÉ∏ÈÉ®</button>
                    <button class="bodypart-btn" data-bodypart="ËÉåÈÉ®">ËÉåÈÉ®</button>
                    <button class="bodypart-btn" data-bodypart="ËÖøÈÉ®">ËÖøÈÉ®</button>
                    <button class="bodypart-btn" data-bodypart="ËÇ©ÈÉ®">ËÇ©ÈÉ®</button>
                    <button class="bodypart-btn" data-bodypart="ÊâãËáÇ">ÊâãËáÇ</button>
                </div>
            </div>

            <div class="exercise-grid" id="exerciseGrid">
                <!-- Âä®‰ΩúÂç°ÁâáÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
            </div>
        </div>

        <!-- Êó•ÂéÜÂå∫Âüü -->
        <div class="calendar-section">
            <h2>ËÆ≠ÁªÉËÆ°Âàí</h2>

            <div class="calendar-container">
                <div class="calendar-header">
                    <h2 id="calendar-month">2023Âπ¥10Êúà</h2>
                    <div class="calendar-nav">
                        <button id="prev-month">‰∏ä‰∏™Êúà</button>
                        <button id="next-month">‰∏ã‰∏™Êúà</button>
                    </div>
                </div>
                <div class="calendar-weekdays">
                    <div>Êó•</div>
                    <div>‰∏Ä</div>
                    <div>‰∫å</div>
                    <div>‰∏â</div>
                    <div>Âõõ</div>
                    <div>‰∫î</div>
                    <div>ÂÖ≠</div>
                </div>
                <div class="calendar-days" id="calendar-days">
                    <!-- Êó•ÂéÜÂ§©Êï∞Â∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                </div>
            </div>
        </div>
    </div>

    <!-- ËÆ≠ÁªÉËÆ°ÂàíËØ¶ÊÉÖ -->
    <div class="plan-detail" id="plan-detail">
        <div class="plan-content">
            <button class="close-btn">&times;</button>
            <h2 id="plan-date">ËÆ≠ÁªÉËÆ°Âàí</h2>
            <div class="plan-exercises" id="plan-exercises">
                <!-- ËÆ°Âàí‰∏≠ÁöÑÂä®‰ΩúÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
            </div>
            <select class="add-exercise-select" id="add-exercise-select">
                <option value="">ÈÄâÊã©Ë¶ÅÊ∑ªÂä†ÁöÑÂä®‰Ωú...</option>
                <!-- Âä®‰ΩúÈÄâÈ°πÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
            </select>
            <button id="add-exercise-btn">Ê∑ªÂä†Âä®‰Ωú</button>
        </div>
    </div>

    <!-- ËÆ°Êó∂Âô®ÂºπÁ™ó -->
    <div class="timer-modal" id="timer-modal">
        <div class="timer-content">
            <h2 class="timer-title">‰ºëÊÅØËÆ°Êó∂Âô®</h2>
            <p class="timer-subtitle">ÂÆåÊàê‰∏ÄÁªÑÂä®‰ΩúÂêéÔºåÂª∫ËÆÆ‰ºëÊÅØ‰∏ÄÊÆµÊó∂Èó¥</p>
            <div class="timer-display" id="timer-display">01:00</div>
            <div class="timer-controls">
                <button class="timer-btn secondary" id="add-10s">+10Áßí</button>
                <button class="timer-btn secondary" id="subtract-10s">-10Áßí</button>
                <button class="timer-btn danger" id="skip-timer">Ë∑≥Ëøá</button>
            </div>
        </div>
    </div>

    <div class="exercise-detail-modal" id="exercise-detail-modal">
        <div class="exercise-detail-content">
            <button class="close-btn exercise-close-btn">&times;</button>
            <div class="exercise-detail-header">
                <div>
                    <h2 class="exercise-detail-title" id="exercise-detail-title">
                        Âä®‰ΩúÂêçÁß∞
                    </h2>
                    <p class="exercise-detail-bodypart" id="exercise-detail-bodypart">
                        ÈÉ®‰Ωç
                    </p>
                    <span class="exercise-detail-type" id="exercise-detail-type"
                        >Á±ªÂûã</span
                    >
                </div>
            </div>

            <p class="exercise-detail-description" id="exercise-detail-description">
                Âä®‰ΩúÊèèËø∞
            </p>

            <div class="exercise-detail-section">
                <h3>ÁõÆÊ†áËÇåËÇâ</h3>
                <div class="exercise-detail-muscles" id="exercise-detail-muscles">
                    <!-- ËÇåËÇâÊ†áÁ≠æÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                </div>
            </div>

            <div class="exercise-detail-section">
                <h3>ÊâßË°åÊ≠•È™§</h3>
                <ol class="exercise-detail-steps" id="exercise-detail-steps">
                    <!-- Ê≠•È™§Â∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                </ol>
            </div>

            <div class="exercise-detail-section">
                <h3>ËÆ≠ÁªÉÊäÄÂ∑ß</h3>
                <ul class="exercise-detail-tips" id="exercise-detail-tips">
                    <!-- ÊäÄÂ∑ßÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                </ul>
            </div>

            <div class="exercise-detail-gif" id="exercise-detail-gif">
                <!-- GIFÂõæÁâáÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
            </div>
        </div>
    </div>

    <script>
        // Âä®‰ΩúÊï∞ÊçÆ
        const exercises = [
            // ÁÉ≠Ë∫´Âä®‰Ωú
            {
                id: "band-warmup",
                name: "ÂºπÂäõÂ∏¶ËÇ©ÈÉ®ÁÉ≠Ë∫´",
                bodyPart: "ËÇ©ÈÉ®",
                type: "warmup",
                description:
                    "ÂºπÂäõÂ∏¶ËÇ©ÈÉ®ÁÉ≠Ë∫´ÊòØËÆ≠ÁªÉÂâçÁöÑÈáçË¶ÅÂáÜÂ§áÂä®‰ΩúÔºåÂèØ‰ª•ÊúâÊïàÊøÄÊ¥ªËÇ©ÈÉ®ËÇåÁæ§ÔºåÂ¢ûÂä†ËÇ©ÂÖ≥ËäÇÊ¥ªÂä®Â∫¶ÔºåÈ¢ÑÈò≤ËÇ©ÈÉ®Êçü‰º§„ÄÇ",
                muscles: ["‰∏âËßíËÇåÂâçÊùü", "‰∏âËßíËÇå‰∏≠Êùü", "‰∏âËßíËÇåÂêéÊùü"],
                gif: "gifs/band-warmup.gif",
                steps: [
                    "ÂèåËÑö‰∏éËÇ©ÂêåÂÆΩÁ´ôÁ´ãÔºåÂèåÊâãÊè°‰ΩèÂºπÂäõÂ∏¶‰∏§Á´Ø",
                    "ÊâãËáÇ‰º∏Áõ¥ÔºåÂ∞ÜÂºπÂäõÂ∏¶‰∏æËá≥ËÉ∏ÂâçÈ´òÂ∫¶",
                    "ÊÖ¢ÊÖ¢Â∞ÜÂèåËáÇÂêë‰∏äÊä¨Ëµ∑Ôºå‰øùÊåÅÊâãËáÇ‰º∏Áõ¥",
                    "ÁªßÁª≠Âêë‰∏äÂêëÂêéÁßªÂä®ÔºåÁõ¥Âà∞ÂºπÂäõÂ∏¶Ë∂äËøáÂ§¥ÈÉ®",
                    "ÁºìÊÖ¢ÂõûÂà∞Ëµ∑Âßã‰ΩçÁΩÆ",
                    "ÈáçÂ§ç10-15Ê¨°ÔºåËøõË°å2-3ÁªÑ",
                ],
                tips: [
                    "Âä®‰ΩúË¶ÅÁºìÊÖ¢ÊéßÂà∂ÔºåÊÑüÂèóËÇ©ÈÉ®ÁöÑÊãâ‰º∏ÊÑü",
                    "‰øùÊåÅÊ†∏ÂøÉÊî∂Á¥ßÔºåÈÅøÂÖçËÖ∞ÈÉ®ËøáÂ∫¶ÂèçÂºì",
                    "Â¶ÇÊûúËÇ©ÈÉ®ÊüîÈüßÊÄßËæÉÂ∑ÆÔºåÂèØ‰ª•ÈÄÇÂΩìÂä†ÂÆΩÂºπÂäõÂ∏¶Êè°Ë∑ù",
                    "ÁÉ≠Ë∫´Êó∂‰∏çË¶Å‰ΩøÁî®ËøáÂ§ßÁöÑÈòªÂäõ",
                ],
            },
            {
                id: "money-cat",
                name: "ÊãõË¥¢Áå´ËÇ©ÈÉ®ÁÉ≠Ë∫´",
                bodyPart: "ËÇ©ÈÉ®",
                type: "warmup",
                description:
                    "ÊãõË¥¢Áå´Âä®‰ΩúÊòØÁªèÂÖ∏ÁöÑËÇ©ÈÉ®ÁÉ≠Ë∫´Âä®‰ΩúÔºå‰ΩøÁî®ËΩªÈáçÈáèÂìëÈìÉËøõË°åÔºåÂèØ‰ª•ÊúâÊïàÊøÄÊ¥ªËÇ©ÈÉ®ÊóãËΩ¨ËÇåÁæ§ÔºåÈ¢ÑÈò≤ËÇ©ÈÉ®Êçü‰º§„ÄÇ",
                muscles: ["‰∏âËßíËÇåÂâçÊùü", "‰∏âËßíËÇå‰∏≠Êùü", "ËÇ©Ë¢ñËÇåÁæ§"],
                steps: [
                    "ÂèåÊâãÂêÑÊè°‰∏Ä‰∏™2.5kgÂìëÈìÉÔºåÁ´ôÁ´ãÊàñÂùêÁ´ã",
                    "ÂèåËáÇÂêë‰∏§‰æßÊä¨Ëµ∑ÔºåËÇòÂÖ≥ËäÇÂºØÊõ≤90Â∫¶ÔºåÂâçËáÇ‰∏éÂú∞Èù¢ÂûÇÁõ¥",
                    "‰øùÊåÅ‰∏äËáÇ‰∏çÂä®ÔºåÊóãËΩ¨ËÇ©ÂÖ≥ËäÇÔºåÂ∞ÜÂìëÈìÉÂêëÂâçÂêë‰∏ãËΩ¨Âä®",
                    "Âà∞ËææÊúÄ‰ΩéÁÇπÂêéÔºåÂÜçÂêë‰∏äÂêëÂêéÊóãËΩ¨ÂõûÂà∞Ëµ∑Âßã‰ΩçÁΩÆ",
                    "ÈáçÂ§ç10-15Ê¨°ÔºåËøõË°å2-3ÁªÑ",
                ],
                tips: [
                    "‰ΩøÁî®ËΩªÈáçÈáèÔºåÈáçÁÇπÊòØÂä®‰ΩúÁöÑÊéßÂà∂ÂíåËÇ©ÈÉ®ÁöÑÊÑüÂèó",
                    "‰øùÊåÅ‰∏äËáÇ‰∏éÂú∞Èù¢Âπ≥Ë°åÔºå‰∏çË¶Å‰∏ä‰∏ãÊôÉÂä®",
                    "Âä®‰ΩúË¶ÅÁºìÊÖ¢ÔºåÊÑüÂèóËÇ©ÈÉ®ÊóãËΩ¨ËÇåÁæ§ÁöÑÊøÄÊ¥ª",
                    "Â¶ÇÊûúËÇ©ÈÉ®Êúâ‰∏çÈÄÇÔºåÂáèÂ∞èÂä®‰ΩúÂπÖÂ∫¶Êàñ‰ΩøÁî®Êõ¥ËΩªÁöÑÈáçÈáè",
                ],
            },
            {
                id: "dynamic-stretch",
                name: "Âä®ÊÄÅÊãâ‰º∏ÁÉ≠Ë∫´",
                bodyPart: "ÂÖ®Ë∫´",
                type: "warmup",
                description:
                    "Âä®ÊÄÅÊãâ‰º∏ÊòØËÆ≠ÁªÉÂâçÁöÑÈáçË¶ÅÁÉ≠Ë∫´ÁéØËäÇÔºåÈÄöËøáÊ¥ªÂä®ÂÖ≥ËäÇÂíåËÇåËÇâÔºåÂ¢ûÂä†Ë∫´‰ΩìÊ∏©Â∫¶ÂíåË°ÄÊ∂≤Âæ™ÁéØÔºå‰∏∫ËÆ≠ÁªÉÂÅöÂ•ΩÂáÜÂ§á„ÄÇ",
                muscles: ["ÂÖ®Ë∫´‰∏ªË¶ÅËÇåÁæ§"],
                steps: [
                    "È¢àÈÉ®ÊóãËΩ¨ÔºöÁºìÊÖ¢ËΩ¨Âä®È¢àÈÉ®ÔºåÈ°∫Êó∂ÈíàÂíåÈÄÜÊó∂ÈíàÂêÑ5Ê¨°",
                    "ËÇ©ÈÉ®ÁéØÁªïÔºöÂêëÂâçÂêëÂêéÂêÑËΩ¨Âä®ËÇ©ÈÉ®10Ê¨°",
                    "ÊâãËáÇÊëÜÂä®ÔºöÂâçÂêéÊëÜÂä®ÂèåËáÇÔºåÊ¥ªÂä®ËÇ©ÂÖ≥ËäÇ",
                    "‰ΩìËΩ¨ËøêÂä®ÔºöÂ∑¶Âè≥ËΩ¨Âä®Ë∫ØÂπ≤ÔºåÊ¥ªÂä®ËÑäÊü±",
                    "È´òÊä¨ËÖøÔºöÊØè‰æß10Ê¨°ÔºåÊ¥ªÂä®È´ãÂÖ≥ËäÇÂíåËÖøÈÉ®",
                    "ÂºÄÂêàË∑≥Ôºö20Ê¨°ÔºåÊèêÂçáÂøÉÁéáÂíå‰ΩìÊ∏©",
                ],
                tips: [
                    "Âä®ÊÄÅÊãâ‰º∏‰∏çÂêå‰∫éÈùôÊÄÅÊãâ‰º∏ÔºåË¶Å‰øùÊåÅÂä®‰ΩúÁöÑËøûÁª≠ÊÄß",
                    "ÊØè‰∏™Âä®‰ΩúË¶ÅÂÅöÂà∞‰ΩçÔºå‰ΩÜ‰∏çË¶ÅËøáÂ∫¶Êãâ‰º∏",
                    "Ê†πÊçÆÂΩìÂ§©ÁöÑËÆ≠ÁªÉÂÜÖÂÆπÔºåÂèØ‰ª•Â¢ûÂä†ÈíàÂØπÊÄßÁöÑÁÉ≠Ë∫´Âä®‰Ωú",
                    "Êï¥‰∏™ÁÉ≠Ë∫´ËøáÁ®ãÊåÅÁª≠5-10ÂàÜÈíü‰∏∫ÂÆú",
                ],
            },

            // ËÆ≠ÁªÉÂä®‰Ωú
            {
                id: "bench-press",
                name: "Âπ≥ÊùøÂçßÊé®",
                bodyPart: "ËÉ∏ÈÉ®",
                type: "training",
                description:
                    "Âπ≥ÊùøÂçßÊé®ÊòØËÉ∏ÈÉ®ËÆ≠ÁªÉÁöÑÂü∫Á°ÄÂä®‰ΩúÔºå‰∏ªË¶ÅÈîªÁÇºËÉ∏Â§ßËÇåÔºåÂêåÊó∂‰πüËÉΩÈîªÁÇºÂà∞ËÇ©ÈÉ®ÂíåÊâãËáÇËÇåËÇâ„ÄÇËøôÊòØÂ¢ûÂä†ËÉ∏ÈÉ®ÂäõÈáèÂíå‰ΩìÁßØÊúÄÊúâÊïàÁöÑÂä®‰Ωú‰πã‰∏Ä„ÄÇ",
                muscles: ["ËÉ∏Â§ßËÇå", "‰∏âËßíËÇåÂâçÊùü", "ËÇ±‰∏âÂ§¥ËÇå"],
                steps: [
                    "Âπ≥Ë∫∫Âú®ÂçßÊé®Âá≥‰∏äÔºåÂèåËÑöÁ®≥Âõ∫Âú∞Ë∏©Âú®Âú∞Èù¢‰∏ä",
                    "ÂèåÊâãÊè°‰ΩèÊù†ÈìÉÔºåÊØîËÇ©Áï•ÂÆΩÔºåÊéåÂøÉÂêëÂâç",
                    "‰ªéÊû∂‰∏äÂèñ‰∏ãÊù†ÈìÉÔºå‰º∏Áõ¥ÊâãËáÇÔºå‰ΩøÊù†ÈìÉ‰Ωç‰∫éËÉ∏ÈÉ®Ê≠£‰∏äÊñπ",
                    "ÁºìÊÖ¢‰∏ãÈôçÊù†ÈìÉËá≥ËÉ∏ÈÉ®Ôºå‰øùÊåÅËÇòÈÉ®‰∏éË∫´‰ΩìÂëàÁ∫¶45Â∫¶Ëßí",
                    "ÂΩìÊù†ÈìÉËΩªËß¶ËÉ∏ÈÉ®ÂêéÔºåÁî®ÂäõÊé®Ëµ∑Êù†ÈìÉËá≥Ëµ∑Âßã‰ΩçÁΩÆ",
                    "ÈáçÂ§çÂä®‰ΩúËá≥ÂÆåÊàêÁõÆÊ†áÊ¨°Êï∞",
                ],
                gif: "gifs/bench-press.gif",
                tips: [
                    "‰øùÊåÅËÇ©ËÉõÈ™®Êî∂Á¥ßÔºåËÉåÈÉ®ËΩªÂæÆÂºìËµ∑",
                    "‰∏ãÈôçÊó∂ÊéßÂà∂ÈÄüÂ∫¶ÔºåÈÅøÂÖçÂø´ÈÄü‰∏ãÈôç",
                    "Êé®Ëµ∑Êó∂ÂëºÊ∞îÔºå‰∏ãÈôçÊó∂Âê∏Ê∞î",
                    "ÂàùÂ≠¶ËÄÖÂª∫ËÆÆ‰ΩøÁî®ËæÉËΩªÈáçÈáèÔºåÂÖàÊéåÊè°Ê≠£Á°ÆÂßøÂäø",
                ],
            },
            {
                id: "incline-press",
                name: "‰∏äÊñúÂçßÊé®",
                bodyPart: "ËÉ∏ÈÉ®",
                type: "training",
                description:
                    "‰∏äÊñúÂçßÊé®‰∏ªË¶ÅÈíàÂØπ‰∏äËÉ∏ÈÉ®ËÇåËÇâÔºåÊúâÂä©‰∫éÂ°ëÈÄ†È•±Êª°ÁöÑ‰∏äËÉ∏Á∫øÊù°„ÄÇ‰ΩøÁî®ÂÄæÊñúÁöÑÂçßÊé®Âá≥ÂÆåÊàêÔºåËßíÂ∫¶ÈÄöÂ∏∏ËÆæÁΩÆÂú®30-45Â∫¶„ÄÇ",
                muscles: ["‰∏äËÉ∏Â§ßËÇå", "‰∏âËßíËÇåÂâçÊùü", "ËÇ±‰∏âÂ§¥ËÇå"],
                steps: [
                    "Ë∞ÉÊï¥ÂçßÊé®Âá≥Ëá≥30-45Â∫¶ÂÄæÊñúËßíÂ∫¶",
                    "Âπ≥Ë∫∫Âú®Âá≥‰∏äÔºåÂèåËÑöÁ®≥Âõ∫Ë∏©Âú∞",
                    "ÂèåÊâãÊè°‰ΩèÊù†ÈìÉÔºåÊØîËÇ©Áï•ÂÆΩ",
                    "‰ªéÊû∂‰∏äÂèñ‰∏ãÊù†ÈìÉÔºå‰º∏Áõ¥ÊâãËáÇ",
                    "ÁºìÊÖ¢‰∏ãÈôçÊù†ÈìÉËá≥‰∏äËÉ∏ÈÉ®‰ΩçÁΩÆ",
                    "Áî®ÂäõÊé®Ëµ∑Êù†ÈìÉËá≥Ëµ∑Âßã‰ΩçÁΩÆ",
                ],
                tips: [
                    "Á°Æ‰øùÂçßÊé®Âá≥ËßíÂ∫¶ÂêàÈÄÇÔºå‰∏çË¶ÅËøáÈô°",
                    "Ê≥®ÊÑèÂäõÈõÜ‰∏≠Âú®‰∏äËÉ∏ÈÉ®ËÇåËÇâÁöÑÊî∂Áº©",
                    "‰∏ãÈôçÊó∂ÊéßÂà∂ÈÄüÂ∫¶ÔºåÊÑüÂèó‰∏äËÉ∏ÈÉ®ÁöÑÊãâ‰º∏",
                ],
            },
            {
                id: "bent-over-row",
                name: "‰øØË∫´ÂàíËàπ",
                bodyPart: "ËÉåÈÉ®",
                type: "training",
                description:
                    "‰øØË∫´ÂàíËàπÊòØËÉåÈÉ®ËÆ≠ÁªÉÁöÑÁªèÂÖ∏Âä®‰ΩúÔºå‰∏ªË¶ÅÈîªÁÇºËÉåÈòîËÇåÂíåËè±ÂΩ¢ËÇåÔºåÂêåÊó∂‰πüËÉΩÂ¢ûÂº∫Ê†∏ÂøÉÁ®≥ÂÆöÊÄß„ÄÇ",
                muscles: ["ËÉåÈòîËÇå", "Ëè±ÂΩ¢ËÇå", "ËÇ±‰∫åÂ§¥ËÇå", "Á´ñËÑäËÇå"],
                steps: [
                    "ÂèåËÑö‰∏éËÇ©ÂêåÂÆΩÁ´ôÁ´ãÔºåËÜùÁõñÂæÆÂºØ",
                    "‰∏äÂçäË∫´ÂâçÂÄæËá≥Á∫¶45Â∫¶Ôºå‰øùÊåÅËÉåÈÉ®Êå∫Áõ¥",
                    "ÂèåÊâãÊ≠£Êè°Êù†ÈìÉÔºåÁï•ÂÆΩ‰∫éËÇ©",
                    "Â∞ÜÊù†ÈìÉÂêë‰∏äÊãâÂêëËÖπÈÉ®ÔºåËÇòÈÉ®Èù†ËøëË∫´‰Ωì",
                    "Âú®È°∂Â≥∞‰ΩçÁΩÆÁ®ç‰ΩúÂÅúÁïôÔºåÊÑüÂèóËÉåÈÉ®ËÇåËÇâÊî∂Áº©",
                    "ÁºìÊÖ¢Êîæ‰∏ãÊù†ÈìÉËá≥Ëµ∑Âßã‰ΩçÁΩÆ",
                ],
                gif: "gifs/bent-over-row.gif",
                tips: [
                    "‰øùÊåÅËÉåÈÉ®Êå∫Áõ¥ÔºåÈÅøÂÖçÂúÜËÉå",
                    "Âä®‰ΩúËøáÁ®ã‰∏≠Ê†∏ÂøÉÊî∂Á¥ßÔºå‰øùÊåÅË∫´‰ΩìÁ®≥ÂÆö",
                    "‰ΩøÁî®ËÉåÈÉ®ËÇåËÇâÂèëÂäõÔºåËÄå‰∏çÊòØÊâãËáÇ",
                ],
            },
            {
                id: "deadlift",
                name: "Á°¨Êãâ",
                bodyPart: "ËÉåÈÉ®",
                type: "training",
                description:
                    "Á°¨ÊãâÊòØÂÖ®Ë∫´Â§çÂêàÂä®‰Ωú‰πãÁéãÔºå‰∏ªË¶ÅÈîªÁÇºËÉåÈÉ®„ÄÅËáÄÈÉ®ÂíåËÖøÈÉ®ËÇåËÇâÁæ§ÔºåËÉΩÊúâÊïàÊèêÂçáÂÖ®Ë∫´ÂäõÈáèÂíåËÇåËÇâÈáè„ÄÇ",
                muscles: ["ËÉåÈòîËÇå", "Á´ñËÑäËÇå", "ËáÄÂ§ßËÇå", "ËÖòÁª≥ËÇå", "ËÇ°ÂõõÂ§¥ËÇå"],
                steps: [
                    "ÂèåËÑö‰∏éËÇ©ÂêåÂÆΩÁ´ôÁ´ãÔºåÊù†ÈìÉ‰Ωç‰∫éËÑöÊéå‰∏≠Â§Æ‰∏äÊñπ",
                    "ÂºØËÖ∞Â±àËÜùÔºåÂèåÊâãÊ≠£Êè°ÊàñÊ≠£ÂèçÊè°Êù†ÈìÉ",
                    "‰øùÊåÅËÉåÈÉ®Êå∫Áõ¥ÔºåËÉ∏ÈÉ®Êå∫Ëµ∑ÔºåÊ†∏ÂøÉÊî∂Á¥ß",
                    "Áî®ËÖøÈÉ®ÂäõÈáèÂêØÂä®ÔºåÂ∞ÜÊù†ÈìÉÊ≤øÂ∞èËÖøÂêë‰∏äÊãâ",
                    "ÂΩìÊù†ÈìÉËøáËÜùÂêéÔºåÂêëÂâçÊå∫È´ãËá≥ÂÆåÂÖ®Á´ôÁ´ã",
                    "ÁºìÊÖ¢‰∏ãÊîæÊù†ÈìÉÔºå‰øùÊåÅÊéßÂà∂ÔºåÂõûÂà∞Ëµ∑Âßã‰ΩçÁΩÆ",
                ],
                gif: "gifs/deadlift.gif",
                tips: [
                    "ÂßãÁªà‰øùÊåÅËÉåÈÉ®Êå∫Áõ¥ÔºåÈÅøÂÖçÂúÜËÉå",
                    "Âä®‰ΩúËøáÁ®ã‰∏≠Êù†ÈìÉÂ∞ΩÈáèË¥¥ËøëË∫´‰Ωì",
                    "‰ΩøÁî®ËÖøÈÉ®ÂäõÈáèÂêØÂä®ÔºåËÄå‰∏çÊòØÁî®ËÉåÈÉ®Á°¨Êãâ",
                    "ÂàùÂ≠¶ËÄÖÂª∫ËÆÆ‰ªéËΩªÈáçÈáèÂºÄÂßãÔºåÊ≥®ÈáçÂä®‰ΩúÂΩ¢Âºè",
                ],
            },
            {
                id: "seated-pulldown",
                name: "ÂùêÂßø‰∏ãÊãâ",
                bodyPart: "ËÉåÈÉ®",
                type: "training",
                description: 
                    "ÂùêÂßø‰∏ãÊãâÊòØËÉåÈÉ®ËÆ≠ÁªÉÁöÑÂü∫Á°ÄÂä®‰ΩúÔºå‰∏ªË¶ÅÈîªÁÇºËÉåÈòîËÇåÔºåÂêåÊó∂‰πüËÉΩÈîªÁÇºÂà∞ËÇ±‰∫åÂ§¥ËÇåÂíåËÇ©ÈÉ®ËÇåÁæ§„ÄÇ",
                muscles: ["ËÉåÈòîËÇå", "ËÇ±‰∫åÂ§¥ËÇå", "‰∏âËßíËÇåÂêéÊùü", "Â§ßÂúÜËÇå"],
                steps: [
                    "Ë∞ÉÊï¥Â∫ßÊ§ÖÈ´òÂ∫¶Ôºå‰ΩøÂ§ßËÖøËÉΩÂ§üÁ®≥ÂÆöÂõ∫ÂÆöÂú®Âô®Ê¢∞‰∏ãÊñπ",
                    "ÂèåÊâãÂÆΩÊè°Êù†ÊùÜÔºåÊéåÂøÉÂêëÂâç",
                    "Ë∫´‰ΩìÂæÆÂæÆÂêéÂÄæÔºå‰øùÊåÅËÉåÈÉ®Êå∫Áõ¥",
                    "Áî®ËÉåÈÉ®ÂäõÈáèÂ∞ÜÊù†ÊùÜ‰∏ãÊãâËá≥ËÉ∏Ââç",
                    "Âú®ÊúÄ‰ΩéÁÇπÁ®ç‰ΩúÂÅúÁïôÔºåÊÑüÂèóËÉåÈÉ®ËÇåËÇâÊî∂Áº©",
                    "ÁºìÊÖ¢ËøòÂéüÊù†ÊùÜËá≥Ëµ∑Âßã‰ΩçÁΩÆ",
                    "ÈáçÂ§çÂä®‰ΩúËá≥ÂÆåÊàêÁõÆÊ†áÊ¨°Êï∞"
                ],
                gif: "gifs/seated-pulldown.gif",
                tips: [
                    "‰øùÊåÅÊ†∏ÂøÉÊî∂Á¥ßÔºåÈÅøÂÖçÁî®ÊÉØÊÄß‰∏ãÊãâ",
                    "Âä®‰ΩúËøáÁ®ã‰∏≠‰øùÊåÅËÇòÈÉ®ÂûÇÁõ¥Âêë‰∏ãÁßªÂä®",
                    "ËøòÂéüÊó∂ÊéßÂà∂ÈÄüÂ∫¶ÔºåÂÖÖÂàÜÊãâ‰º∏ËÉåÈòîËÇå",
                    "ÈÅøÂÖçËøáÂ∫¶Âêé‰ª∞Ë∫´‰ΩìÔºå‰øùÊåÅË∫ØÂπ≤Á®≥ÂÆö"
                ]
            },
            {
                id: "squat",
                name: "Ê∑±Ëπ≤",
                bodyPart: "ËÖøÈÉ®",
                type: "training",
                description:
                    "Ê∑±Ëπ≤ÊòØ‰∏ãËÇ¢ËÆ≠ÁªÉÁöÑÂü∫Á°ÄÂä®‰ΩúÔºåË¢´Áß∞‰∏∫'Âä®‰Ωú‰πãÁéã'Ôºå‰∏ªË¶ÅÈîªÁÇºËÇ°ÂõõÂ§¥ËÇå„ÄÅËáÄÂ§ßËÇåÂíåËÖòÁª≥ËÇåÔºåÂêåÊó∂‰πüËÉΩÂ¢ûÂº∫Ê†∏ÂøÉÂäõÈáè„ÄÇ",
                muscles: ["ËÇ°ÂõõÂ§¥ËÇå", "ËáÄÂ§ßËÇå", "ËÖòÁª≥ËÇå", "Ê†∏ÂøÉËÇåÁæ§"],
                steps: [
                    "ÂèåËÑö‰∏éËÇ©ÂêåÂÆΩÊàñÁï•ÂÆΩÁ´ôÁ´ãÔºåËÑöÂ∞ñÁ®çÂæÆÂ§ñÂ±ï",
                    "‰øùÊåÅËÉåÈÉ®Êå∫Áõ¥ÔºåËÉ∏ÈÉ®Êå∫Ëµ∑ÔºåÊ†∏ÂøÉÊî∂Á¥ß",
                    "ÁºìÊÖ¢‰∏ãËπ≤ÔºåËáÄÈÉ®ÂêëÂêéÂùêÔºåÂ¶ÇÂêåË¶ÅÂùêÂú®Ê§ÖÂ≠ê‰∏ä",
                    "‰∏ãËπ≤Ëá≥Â§ßËÖø‰∏éÂú∞Èù¢Âπ≥Ë°åÊàñÊõ¥‰Ωé",
                    "Áî®ËÑöË∑üÂèëÂäõÔºåÊé®Âä®Ë∫´‰ΩìÂõûÂà∞Ëµ∑Âßã‰ΩçÁΩÆ",
                    "ÂÖ®Á®ã‰øùÊåÅËÜùÁõñ‰∏éËÑöÂ∞ñÊñπÂêë‰∏ÄËá¥",
                ],
                gif: "gifs/squat.gif",                
                tips: [
                    "‰øùÊåÅËÉåÈÉ®Êå∫Áõ¥ÔºåÈÅøÂÖçÂúÜËÉå",
                    "ËÜùÁõñ‰∏çË¶ÅË∂ÖËøáËÑöÂ∞ñÂ§™Â§ö",
                    "‰∏ãËπ≤Êó∂Âê∏Ê∞îÔºå‰∏äÂçáÊó∂ÂëºÊ∞î",
                    "ÂàùÂ≠¶ËÄÖÂèØ‰ª•ÂÖàÁªÉ‰π†Ëá™ÈáçÊ∑±Ëπ≤ÔºåÂÜçÈÄêÊ≠•Â¢ûÂä†Ë¥üÈáç",
                ],
            },
            {
                id: "leg-extension",
                name: "ËÖøÂ±à‰º∏",
                bodyPart: "ËÖøÈÉ®",
                type: "training",
                description:
                    "ËÖøÂ±à‰º∏ÊòØËÇ°ÂõõÂ§¥ËÇåÁöÑÂ≠§Á´ãËÆ≠ÁªÉÂä®‰ΩúÔºå‰ΩøÁî®‰∏ìÁî®Âô®Ê¢∞ÂÆåÊàêÔºåËÉΩÊúâÊïàÂ°ëÈÄ†Â§ßËÖøÂâç‰æßËÇåËÇâÁ∫øÊù°„ÄÇ",
                muscles: ["ËÇ°ÂõõÂ§¥ËÇå"],
                steps: [
                    "ÂùêÂú®ËÖøÂ±à‰º∏Âô®Ê¢∞‰∏äÔºåËÉåÈÉ®Á¥ßË¥¥Èù†ËÉå",
                    "Â∞ÜËÑöË∏ùÊîæÂú®ÊªöÂû´‰∏ãÊñπÔºåË∞ÉÊï¥Âô®Ê¢∞‰ΩøËÜùÁõñ‰∏éËΩ¨ËΩ¥ÂØπÈΩê",
                    "ÂèåÊâãÊäì‰Ωè‰æßËæπÊääÊâãÔºåÁ®≥ÂÆöË∫´‰Ωì",
                    "Áî®ËÇ°ÂõõÂ§¥ËÇåÂèëÂäõÔºå‰º∏Áõ¥ÂèåËÖøËá≥ÊúÄÈ´òÁÇπ",
                    "Âú®È°∂Â≥∞‰ΩçÁΩÆÁ®ç‰ΩúÂÅúÁïôÔºåÊÑüÂèóËÇ°ÂõõÂ§¥ËÇåÊî∂Áº©",
                    "ÁºìÊÖ¢‰∏ãÊîæÈáçÈáèËá≥Ëµ∑Âßã‰ΩçÁΩÆ",
                ],
                tips: [
                    "ÈÅøÂÖç‰ΩøÁî®ËøáÂ§ßÈáçÈáèÔºå‰ª•ÂÖçÂØπËÜùÂÖ≥ËäÇÈÄ†ÊàêÂéãÂäõ",
                    "Âä®‰ΩúË¶ÅÊéßÂà∂Ôºå‰∏çË¶ÅÁî®ÁàÜÂèëÂäõ",
                    "Âú®È°∂Â≥∞‰ΩçÁΩÆÂÖÖÂàÜÊî∂Áº©ËÇ°ÂõõÂ§¥ËÇå",
                ],
            },
            {
                id: "dumbbell-press",
                name: "ÂùêÂßøÂìëÈìÉÊé®ËÇ©",
                bodyPart: "ËÇ©ÈÉ®",
                type: "training",
                description:
                    "ÂùêÂßøÂìëÈìÉÊé®ËÇ©ÊòØËÇ©ÈÉ®ËÆ≠ÁªÉÁöÑÊ†∏ÂøÉÂä®‰ΩúÔºå‰∏ªË¶ÅÈîªÁÇº‰∏âËßíËÇåÔºåÂêåÊó∂‰πüËÉΩÈîªÁÇºÂà∞ËÇ±‰∏âÂ§¥ËÇåÂíå‰∏äËÉ∏ÈÉ®„ÄÇ",
                muscles: ["‰∏âËßíËÇåÂâçÊùü", "ËÇ±‰∏âÂ§¥ËÇå", "‰∏äËÉ∏Â§ßËÇå"],
                steps: [
                    "ÂùêÂú®Âá≥‰∏äÔºåËÉåÈÉ®Êå∫Áõ¥ÔºåÂèåËÑöÁ®≥Âõ∫Ë∏©Âú∞",
                    "ÂèåÊâãÂêÑÊè°‰∏ÄÂìëÈìÉÔºå‰∏æËá≥ËÇ©ÈÉ®È´òÂ∫¶ÔºåÊéåÂøÉÂêëÂâç",
                    "Ê†∏ÂøÉÊî∂Á¥ßÔºåÁî®ËÇ©ÈÉ®ÂäõÈáèÂ∞ÜÂìëÈìÉÂêë‰∏äÊé®‰∏æ",
                    "Âú®ÊúÄÈ´òÁÇπÁ®ç‰ΩúÂÅúÁïôÔºåÊÑüÂèóËÇ©ÈÉ®ËÇåËÇâÊî∂Áº©",
                    "ÁºìÊÖ¢‰∏ãÊîæÂìëÈìÉËá≥ËÇ©ÈÉ®È´òÂ∫¶",
                    "ÈáçÂ§çÂä®‰ΩúËá≥ÂÆåÊàêÁõÆÊ†áÊ¨°Êï∞",
                ],
                gif: "gifs/dumbbell-press.gif",
                tips: [
                    "‰øùÊåÅËÉåÈÉ®Êå∫Áõ¥ÔºåÈÅøÂÖçËøáÂ∫¶ÂºìËÉå",
                    "Âä®‰ΩúËøáÁ®ã‰∏≠ÊéßÂà∂ÂìëÈìÉÔºåÈÅøÂÖçÊëÜÂä®",
                    "‰∏ãÊîæÊó∂ÊéßÂà∂ÈÄüÂ∫¶ÔºåÊÑüÂèóËÇåËÇâÊãâ‰º∏",
                ],
            },
            {
                id: "lateral-raise",
                name: "‰æßÂπ≥‰∏æ",
                bodyPart: "ËÇ©ÈÉ®",
                type: "training",
                description:
                    "‰æßÂπ≥‰∏æÊòØÈíàÂØπ‰∏âËßíËÇå‰∏≠ÊùüÁöÑÂ≠§Á´ãËÆ≠ÁªÉÂä®‰ΩúÔºåËÉΩÊúâÊïàÂ¢ûÂä†ËÇ©ÈÉ®ÂÆΩÂ∫¶ÔºåÂ°ëÈÄ†'ÂçóÁìúËÇ©'„ÄÇ",
                muscles: ["‰∏âËßíËÇå‰∏≠Êùü"],
                steps: [
                    "Á´ôÁ´ãÊàñÂùêÁ´ãÔºåÂèåÊâãÂêÑÊè°‰∏ÄÂìëÈìÉÔºåÁΩÆ‰∫éË∫´‰Ωì‰∏§‰æß",
                    "‰øùÊåÅËÇòÈÉ®ÂæÆÂºØÔºåÁî®ËÇ©ÈÉ®ÂäõÈáèÂ∞ÜÂìëÈìÉÂêë‰∏§‰æßÂπ≥‰∏æ",
                    "‰∏æËá≥ÊâãËáÇ‰∏éÂú∞Èù¢Âπ≥Ë°åÊàñÁï•È´ò",
                    "Âú®È°∂Â≥∞‰ΩçÁΩÆÁ®ç‰ΩúÂÅúÁïôÔºåÊÑüÂèó‰∏âËßíËÇå‰∏≠ÊùüÊî∂Áº©",
                    "ÁºìÊÖ¢‰∏ãÊîæÂìëÈìÉËá≥Ëµ∑Âßã‰ΩçÁΩÆ",
                    "ÊéßÂà∂Âä®‰ΩúÈÄüÂ∫¶ÔºåÈÅøÂÖç‰ΩøÁî®ÊÉØÊÄß",
                ],
                tips: [
                    "‰ΩøÁî®ËæÉËΩªÈáçÈáèÔºåÊ≥®ÈáçÂä®‰ΩúË¥®ÈáèÂíåËÇåËÇâÊÑüÂèó",
                    "ÈÅøÂÖçËÄ∏ËÇ©Ôºå‰øùÊåÅËÇ©ÈÉ®‰∏ãÊ≤â",
                    "ÊÉ≥Ë±°Âú®ÂÄíÊ∞¥ÔºåÂ∞èÊãáÊåáÁï•È´ò‰∫éÂ§ßÊãáÊåá",
                ],
            },

            // Êãâ‰º∏Âä®‰Ωú
            {
                id: "chest-stretch",
                name: "ËÉ∏ÈÉ®Êãâ‰º∏",
                bodyPart: "ËÉ∏ÈÉ®",
                type: "stretch",
                description:
                    "ËÉ∏ÈÉ®Êãâ‰º∏ÊòØËÆ≠ÁªÉÂêéÁöÑÈáçË¶ÅÊÅ¢Â§çÂä®‰ΩúÔºåÂèØ‰ª•ÊúâÊïàÁºìËß£ËÉ∏ÈÉ®ËÇåËÇâÁ¥ßÂº†ÔºåÊîπÂñÑÂúÜËÇ©È©ºËÉåÂßøÂäøÔºåÂ¢ûÂä†ËÉ∏Ê§éÊ¥ªÂä®Â∫¶„ÄÇ",
                muscles: ["ËÉ∏Â§ßËÇå", "ËÉ∏Â∞èËÇå", "‰∏âËßíËÇåÂâçÊùü"],
                steps: [
                    "Á´ôÂú®Èó®Ê°ÜÊàñÂ¢ôËßíÔºåÊâãËáÇÂºØÊõ≤90Â∫¶",
                    "ÂâçËáÇÈù†Âú®Èó®Ê°Ü‰∏äÔºåËÇòÈÉ®Áï•È´ò‰∫éËÇ©ÈÉ®",
                    "ÁºìÊÖ¢ÂêëÂâçËøà‰∏ÄÊ≠•ÔºåÊÑüÂèóËÉ∏ÈÉ®ÁöÑÊãâ‰º∏ÊÑü",
                    "‰øùÊåÅ15-30ÁßíÔºåÁÑ∂ÂêéÊç¢Âè¶‰∏Ä‰æß",
                    "ÊØè‰æßÈáçÂ§ç2-3Ê¨°",
                ],
                tips: [
                    "Êãâ‰º∏Êó∂‰øùÊåÅÊ≠£Â∏∏ÂëºÂê∏Ôºå‰∏çË¶ÅÊÜãÊ∞î",
                    "Êãâ‰º∏ÊÑüÂ∫îËØ•ÊòØËàíÈÄÇÁöÑÔºåÂ¶ÇÊûúÊÑüÂà∞ÁñºÁóõÂàôÂáèÂ∞èÂπÖÂ∫¶",
                    "ÂèØ‰ª•Â∞ùËØï‰∏çÂêåÈ´òÂ∫¶ÁöÑÊãâ‰º∏ÔºåÈíàÂØπËÉ∏ÈÉ®ÁöÑ‰∏çÂêåÈÉ®‰Ωç",
                    "ËÆ≠ÁªÉÂêéÁ´ãÂç≥ËøõË°åÊãâ‰º∏ÊïàÊûúÊúÄ‰Ω≥",
                ],
            },
            {
                id: "back-stretch",
                name: "ËÉåÈÉ®Êãâ‰º∏",
                bodyPart: "ËÉåÈÉ®",
                type: "stretch",
                description:
                    "ËÉåÈÉ®Êãâ‰º∏ÊúâÂä©‰∫éÁºìËß£ËÉåÈÉ®ËÇåËÇâÁ¥ßÂº†ÔºåÊîπÂñÑÂßøÂäøÔºåÈ¢ÑÈò≤ËÖ∞ËÉåÁñºÁóõ„ÄÇÁâπÂà´ÈÄÇÂêàÂú®ËÉåÈÉ®ËÆ≠ÁªÉÂêéËøõË°å„ÄÇ",
                muscles: ["ËÉåÈòîËÇå", "Ëè±ÂΩ¢ËÇå", "Á´ñËÑäËÇå"],
                steps: [
                    "Ë∑™ÂßøÔºåËáÄÈÉ®ÂùêÂú®ËÑöÂêéË∑ü‰∏ä",
                    "ÂêëÂâç‰øØË∫´ÔºåÂèåËáÇ‰º∏Áõ¥ÂêëÂâç‰º∏Â±ï",
                    "Â∞ÜËÉ∏ÈÉ®Ë¥¥ËøëÂ§ßËÖøÔºåÊÑüÂèóËÉåÈÉ®ÁöÑÊãâ‰º∏",
                    "‰øùÊåÅ15-30ÁßíÔºåÊ∑±ÂëºÂê∏",
                    "ÈáçÂ§ç2-3Ê¨°",
                ],
                tips: [
                    "Â¶ÇÊûúËÜùÁõñ‰∏çÈÄÇÔºåÂèØ‰ª•Âú®ËÜùÁõñ‰∏ãÂû´ÊØõÂ∑æ",
                    "Êãâ‰º∏Êó∂ÊÉ≥Ë±°ËÉåÈÉ®Âêë‰∏§‰æßÊâ©Â±ï",
                    "ÂèØ‰ª•ËΩªÂæÆÂ∑¶Âè≥ÁßªÂä®ÔºåÊãâ‰º∏ËÉåÈÉ®‰∏çÂêåÂå∫Âüü",
                    "ÈÖçÂêàÊ∑±ÂëºÂê∏ÔºåÂëºÊ∞îÊó∂Â∞ùËØïËøõ‰∏ÄÊ≠•ÊîæÊùæÂíåÊãâ‰º∏",
                ],
            },
            {
                id: "leg-stretch",
                name: "ËÖøÈÉ®Êãâ‰º∏",
                bodyPart: "ËÖøÈÉ®",
                type: "stretch",
                description:
                    "ËÖøÈÉ®Êãâ‰º∏ÊúâÂä©‰∫éÁºìËß£ËÖøÈÉ®ËÇåËÇâÁ¥ßÂº†ÔºåÂ¢ûÂä†ÊüîÈüßÊÄßÔºå‰øÉËøõËÆ≠ÁªÉÂêéÊÅ¢Â§ç„ÄÇÁâπÂà´ÈÄÇÂêàÂú®ËÖøÈÉ®ËÆ≠ÁªÉÂêéËøõË°å„ÄÇ",
                muscles: ["ËÇ°ÂõõÂ§¥ËÇå", "ËÖòÁª≥ËÇå", "ËáÄÂ§ßËÇå", "Â∞èËÖøËÇåÁæ§"],
                steps: [
                    "ËÇ°ÂõõÂ§¥ËÇåÊãâ‰º∏ÔºöÁ´ôÁ´ãÔºåÂ∞Ü‰∏ÄËÑöË∑üÊãâÂêëËáÄÈÉ®Ôºå‰øùÊåÅ15-30Áßí",
                    "ËÖòÁª≥ËÇåÊãâ‰º∏ÔºöÂùêÂßøÔºå‰∏ÄËÖø‰º∏Áõ¥Ôºå‰∏ÄËÖøÂºØÊõ≤ÔºåÂêëÂâç‰øØË∫´",
                    "Â∞èËÖøÊãâ‰º∏ÔºöÁ´ôÁ´ãÔºå‰∏ÄËÖøÂú®Ââç‰∏ÄËÖøÂú®ÂêéÔºåÂêéËÖø‰º∏Áõ¥Ë∏©Âú∞",
                    "ÊØè‰∏™Êãâ‰º∏‰øùÊåÅ15-30ÁßíÔºåÊØè‰æßÈáçÂ§ç2-3Ê¨°",
                ],
                tips: [
                    "Êãâ‰º∏Êó∂Ë¶Å‰øùÊåÅÂπ≥Á®≥ÁöÑÂëºÂê∏",
                    "‰∏çË¶ÅÂºπÈúáÂºèÊãâ‰º∏Ôºå‰øùÊåÅÈùôÊÄÅÊåÅÁª≠Êãâ‰º∏",
                    "Â¶ÇÊûúÊüîÈüßÊÄßËæÉÂ∑ÆÔºåÂèØ‰ª•‰ΩøÁî®ÊØõÂ∑æËæÖÂä©",
                    "ËÆ≠ÁªÉÂêéËÇåËÇâÊ∏©ÊöñÊó∂ËøõË°åÊãâ‰º∏ÊïàÊûúÊõ¥Â•Ω",
                ],
            },
            {
                id: "shoulder-stretch",
                name: "ËÇ©ÈÉ®Êãâ‰º∏",
                bodyPart: "ËÇ©ÈÉ®",
                type: "stretch",
                description:
                    "ËÇ©ÈÉ®Êãâ‰º∏ÊúâÂä©‰∫éÁºìËß£ËÇ©ÈÉ®ËÇåËÇâÁ¥ßÂº†ÔºåÊîπÂñÑËÇ©ÂÖ≥ËäÇÊ¥ªÂä®Â∫¶ÔºåÈ¢ÑÈò≤ËÇ©ÈÉ®Êçü‰º§„ÄÇÁâπÂà´ÈÄÇÂêàÂú®ËÇ©ÈÉ®ËÆ≠ÁªÉÂêéËøõË°å„ÄÇ",
                muscles: ["‰∏âËßíËÇåÂâçÊùü", "‰∏âËßíËÇå‰∏≠Êùü", "‰∏âËßíËÇåÂêéÊùü", "ËÇ©Ë¢ñËÇåÁæ§"],
                steps: [
                    "‰∏âËßíËÇåÂâçÊùüÊãâ‰º∏ÔºöÂ∞ÜÊâãËáÇÊ®™ËøáËÉ∏ÂâçÔºåÁî®Âè¶‰∏ÄÊâãËΩªËΩªÂä†Âéã",
                    "‰∏âËßíËÇåÂêéÊùüÊãâ‰º∏ÔºöÂ∞ÜÊâãËáÇÊ®™ËøáËÉ∏ÂâçÔºåËÇòÈÉ®ÂºØÊõ≤90Â∫¶",
                    "ËÇ©ÈÉ®ÁªºÂêàÊãâ‰º∏ÔºöÂèåÊâãÂú®ËÉåÂêéÁõ∏Êâ£ÔºåÂêë‰∏äÊä¨Ëµ∑",
                    "ÊØè‰∏™Êãâ‰º∏‰øùÊåÅ15-30ÁßíÔºåÊØè‰æßÈáçÂ§ç2-3Ê¨°",
                ],
                tips: [
                    "ËÇ©ÈÉ®ÊòØÊØîËæÉËÑÜÂº±ÁöÑÂÖ≥ËäÇÔºåÊãâ‰º∏Ë¶ÅËΩªÊüî",
                    "Â¶ÇÊûúÊúâÂÖ≥ËäÇÁñºÁóõÔºåÂÅúÊ≠¢Êãâ‰º∏Âπ∂Âí®ËØ¢‰∏ì‰∏ö‰∫∫Â£´",
                    "ÂèØ‰ª•ÁªìÂêàÂëºÂê∏ÔºåÂëºÊ∞îÊó∂Âä†Ê∑±Êãâ‰º∏",
                    "ÂÆöÊúüËøõË°åËÇ©ÈÉ®Êãâ‰º∏ÂèØ‰ª•ÊîπÂñÑÂúÜËÇ©ÂßøÂäø",
                ],
            },
        ];

        // ËÆ≠ÁªÉËÆ°ÂàíÊï∞ÊçÆ
        let trainingPlans =
            JSON.parse(localStorage.getItem("trainingPlans")) || {};

        // Êó•ÂéÜÁõ∏ÂÖ≥ÂèòÈáè
        let currentDate = new Date();

        // ËÆ°Êó∂Âô®Áõ∏ÂÖ≥ÂèòÈáèÔºàÁßªÂà∞ÂÖ®Â±Ä‰ΩúÁî®ÂüüÔºâ
        let restTimer = null;
        let restTimeLeft = 60; // ÈªòËÆ§60Áßí

        // ÊãñÊãΩÁõ∏ÂÖ≥ÂèòÈáè
        let draggedExercise = null;

        // ÂàùÂßãÂåñÈ°µÈù¢
        document.addEventListener("DOMContentLoaded", function () {
            // Ê∏≤ÊüìÊâÄÊúâÂä®‰Ωú
            renderExercises(exercises);

            // ÂàùÂßãÂåñÊó•ÂéÜ
            renderCalendar();

            // ÂàùÂßãÂåñÊ∑ªÂä†Âä®‰ΩúÈÄâÊã©Ê°Ü
            initAddExerciseSelect();

            // ÊêúÁ¥¢ÂäüËÉΩ
            const searchInput = document.getElementById("searchInput");
            searchInput.addEventListener("input", function () {
                filterExercises();
            });

            // ÈÉ®‰ΩçÁ≠õÈÄâÂäüËÉΩ
            const bodypartButtons = document.querySelectorAll(".bodypart-btn");
            bodypartButtons.forEach((button) => {
                button.addEventListener("click", function () {
                    // ÁßªÈô§ÊâÄÊúâÊåâÈíÆÁöÑactiveÁ±ª
                    bodypartButtons.forEach((btn) => btn.classList.remove("active"));
                    // ‰∏∫ÂΩìÂâçÁÇπÂáªÁöÑÊåâÈíÆÊ∑ªÂä†activeÁ±ª
                    this.classList.add("active");
                    // Á≠õÈÄâÂä®‰Ωú
                    filterExercises();
                });
            });

            // Êó•ÂéÜÂØºËà™ÂäüËÉΩ
            document
                .getElementById("prev-month")
                .addEventListener("click", function () {
                    currentDate.setMonth(currentDate.getMonth() - 1);
                    renderCalendar();
                });

            document
                .getElementById("next-month")
                .addEventListener("click", function () {
                    currentDate.setMonth(currentDate.getMonth() + 1);
                    renderCalendar();
                });

            // ‰∏∫ÊâÄÊúâÂÖ≥Èó≠ÊåâÈíÆÊ∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂ÔºàÈÄöËøá‰∫ã‰ª∂ÂßîÊâòÔºâ
            document.addEventListener("click", function (e) {
                if (e.target.classList.contains("close-btn")) {
                    // ÂÖ≥Èó≠ËÆ≠ÁªÉËÆ°ÂàíËØ¶ÊÉÖ
                    if (e.target.closest(".plan-detail")) {
                        document.getElementById("plan-detail").style.display = "none";
                    }
                    // ÂÖ≥Èó≠Âä®‰ΩúËØ¶ÊÉÖ
                    if (e.target.classList.contains("exercise-close-btn")) {
                        document.getElementById("exercise-detail-modal").style.display = "none";
                    }
                }
            });

            // ÁÇπÂáªËØ¶ÊÉÖÈ°µÈù¢ËÉåÊôØÂÖ≥Èó≠ËØ¶ÊÉÖ
            document.addEventListener("click", function (e) {
                if (e.target.classList.contains("plan-detail")) {
                    e.target.style.display = "none";
                }
                if (e.target.classList.contains("exercise-detail-modal")) {
                    e.target.style.display = "none";
                }
            });

            // Ê∑ªÂä†Âä®‰ΩúÊåâÈíÆ
            document
                .getElementById("add-exercise-btn")
                .addEventListener("click", function () {
                    const select = document.getElementById("add-exercise-select");
                    const exerciseId = select.value;
                    const currentDateStr = document
                        .getElementById("plan-date")
                        .getAttribute("data-date");

                    if (exerciseId && currentDateStr) {
                        addExerciseToPlan(currentDateStr, exerciseId);
                        renderPlanDetail(currentDateStr);
                    }
                });

            // ÂàùÂßãÂåñÊãñÊãΩÂäüËÉΩ
            initDragAndDrop();

            // ÂàùÂßãÂåñËÆ°Êó∂Âô®ÂäüËÉΩ
            initTimer();
        });

        // ÂàùÂßãÂåñÊãñÊãΩÂäüËÉΩ
        function initDragAndDrop() {
            // ËÆæÁΩÆÊãñÊãΩ‰∫ã‰ª∂ÁõëÂê¨Âô®
            document.addEventListener("dragstart", function (e) {
                if (e.target.classList.contains("exercise-item")) {
                    draggedExercise = e.target.getAttribute("data-exercise");
                    e.target.classList.add("dragging");
                    e.dataTransfer.setData("text/plain", draggedExercise);
                }
            });

            document.addEventListener("dragend", function (e) {
                if (e.target.classList.contains("exercise-item")) {
                    e.target.classList.remove("dragging");
                }
            });

            document.addEventListener("dragover", function (e) {
                if (
                    e.target.classList.contains("calendar-day") &&
                    e.target.classList.contains("current-month")
                ) {
                    e.preventDefault();
                    e.target.classList.add("drop-zone");
                }
            });

            document.addEventListener("dragleave", function (e) {
                if (e.target.classList.contains("calendar-day")) {
                    e.target.classList.remove("drop-zone");
                }
            });

            document.addEventListener("drop", function (e) {
                e.preventDefault();
                if (
                    e.target.classList.contains("calendar-day") &&
                    e.target.classList.contains("current-month")
                ) {
                    e.target.classList.remove("drop-zone");

                    const dateStr = getDateStringFromElement(e.target);
                    const exerciseId = e.dataTransfer.getData("text/plain");

                    if (dateStr && exerciseId) {
                        addExerciseToPlan(dateStr, exerciseId);
                        renderDayExercises(dateStr);
                    }
                }
            });
        }

        // ÂàùÂßãÂåñËÆ°Êó∂Âô®ÂäüËÉΩ
        function initTimer() {
            const timerModal = document.getElementById("timer-modal");
            const timerDisplay = document.getElementById("timer-display");
            const add10sBtn = document.getElementById("add-10s");
            const subtract10sBtn = document.getElementById("subtract-10s");
            const skipTimerBtn = document.getElementById("skip-timer");

            // +10ÁßíÊåâÈíÆ
            add10sBtn.addEventListener("click", function () {
                restTimeLeft += 10;
                updateTimerDisplay(timerDisplay);
            });

            // -10ÁßíÊåâÈíÆ
            subtract10sBtn.addEventListener("click", function () {
                if (restTimeLeft > 10) {
                    restTimeLeft -= 10;
                    updateTimerDisplay(timerDisplay);
                }
            });

            // Ë∑≥ËøáÊåâÈíÆ - Áõ¥Êé•ÂÖ≥Èó≠ËÆ°Êó∂Âô®ÁïåÈù¢
            skipTimerBtn.addEventListener("click", function () {
                stopTimer();
                timerModal.style.display = "none";
                // ÈáçÁΩÆËÆ°Êó∂Âô®
                restTimeLeft = 60;
                updateTimerDisplay(timerDisplay);
            });

            // ÂàùÂßãÊòæÁ§∫
            updateTimerDisplay(timerDisplay);
        }

        // Êõ¥Êñ∞ËÆ°Êó∂Âô®ÊòæÁ§∫ÔºàÁßªÂà∞ÂÖ®Â±Ä‰ΩúÁî®ÂüüÔºâ
        function updateTimerDisplay(timerDisplay) {
            const minutes = Math.floor(restTimeLeft / 60);
            const seconds = restTimeLeft % 60;
            timerDisplay.textContent = `${minutes
                .toString()
                .padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
        }

        // ÂºÄÂßãËÆ°Êó∂Âô®ÔºàÁßªÂà∞ÂÖ®Â±Ä‰ΩúÁî®ÂüüÔºâ
        function startTimer() {
            const timerDisplay = document.getElementById("timer-display");

            if (restTimer) {
                clearInterval(restTimer);
            }

            // Á´ãÂç≥Êõ¥Êñ∞‰∏ÄÊ¨°ÊòæÁ§∫
            updateTimerDisplay(timerDisplay);

            restTimer = setInterval(function () {
                restTimeLeft--;
                updateTimerDisplay(timerDisplay);

                if (restTimeLeft <= 0) {
                    stopTimer();
                    timerDisplay.textContent = "Êó∂Èó¥Âà∞!";

                    // Êí≠ÊîæÊèêÁ§∫Èü≥
                    playBeepSound();

                    // 3ÁßíÂêéËá™Âä®ÂÖ≥Èó≠
                    setTimeout(function () {
                        const timerModal = document.getElementById("timer-modal");
                        timerModal.style.display = "none";
                        // ÈáçÁΩÆËÆ°Êó∂Âô®
                        restTimeLeft = 60;
                        updateTimerDisplay(timerDisplay);
                    }, 3000);
                }
            }, 1000);
        }

        // ÂÅúÊ≠¢ËÆ°Êó∂Âô®ÔºàÁßªÂà∞ÂÖ®Â±Ä‰ΩúÁî®ÂüüÔºâ
        function stopTimer() {
            if (restTimer) {
                clearInterval(restTimer);
                restTimer = null;
            }
        }

        // Êí≠ÊîæÊèêÁ§∫Èü≥ÔºàÁßªÂà∞ÂÖ®Â±Ä‰ΩúÁî®ÂüüÔºâ
        function playBeepSound() {
            try {
                const audioContext = new (window.AudioContext ||
                    window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.frequency.value = 800;
                oscillator.type = "sine";

                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(
                    0.01,
                    audioContext.currentTime + 1
                );

                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 1);
            } catch (e) {
                console.log("Êó†Ê≥ïÊí≠ÊîæÊèêÁ§∫Èü≥:", e);
            }
        }

        // ÊòæÁ§∫ËÆ°Êó∂Âô®ÂºπÁ™óÔºà‰øÆÂ§çÁâàÊú¨Ôºâ
        function showTimerModal() {
            const timerModal = document.getElementById("timer-modal");
            timerModal.style.display = "flex";
            // ÈáçÁΩÆËÆ°Êó∂Âô®‰∏∫60Áßí
            restTimeLeft = 60;
            // Á´ãÂç≥ÂºÄÂßãËÆ°Êó∂
            startTimer();
        }

        // ‰ªéÂÖÉÁ¥†Ëé∑ÂèñÊó•ÊúüÂ≠óÁ¨¶‰∏≤
        function getDateStringFromElement(element) {
            const dayElement = element.querySelector(".day-number");
            if (!dayElement) return null;

            const day = parseInt(dayElement.textContent);
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth() + 1;

            return `${year}-${month}-${day}`;
        }

        // Ê∏≤ÊüìÂä®‰ΩúÂàóË°®
        function renderExercises(exercisesToRender) {
            const exerciseGrid = document.getElementById("exerciseGrid");
            exerciseGrid.innerHTML = "";

            if (exercisesToRender.length === 0) {
                exerciseGrid.innerHTML =
                    '<div class="no-results">Ê≤°ÊúâÊâæÂà∞ÂåπÈÖçÁöÑÂä®‰Ωú</div>';
                return;
            }

            exercisesToRender.forEach((exercise) => {
                const exerciseItem = document.createElement("div");
                exerciseItem.className = "exercise-item";
                exerciseItem.setAttribute("data-exercise", exercise.id);
                exerciseItem.setAttribute("draggable", "true");

                // Ê†πÊçÆÁ±ªÂûãÊ∑ªÂä†‰∏çÂêåÁöÑÊ†∑ÂºèÁ±ª
                let typeBadge = "";
                if (exercise.type === "warmup") {
                    typeBadge = '<span class="exercise-type warmup">ÁÉ≠Ë∫´</span>';
                } else if (exercise.type === "stretch") {
                    typeBadge = '<span class="exercise-type stretch">Êãâ‰º∏</span>';
                } else if (exercise.type === "training") {
                    typeBadge = '<span class="exercise-type training">ËÆ≠ÁªÉ</span>';
                }

                exerciseItem.innerHTML = `
                            ${typeBadge}
                            <h3>${exercise.name}</h3>
                            <p>ÈÉ®‰Ωç: ${exercise.bodyPart}</p>
                            <div class="muscle-tags">
                                ${exercise.muscles
                                    .map(
                                        (muscle) =>
                                            `<span class="muscle-tag">${muscle}</span>`
                                    )
                                    .join("")}
                            </div>
                        `;

                exerciseGrid.appendChild(exerciseItem);
            });
        }

        // Á≠õÈÄâÂä®‰Ωú
        function filterExercises() {
            const searchTerm = document
                .getElementById("searchInput")
                .value.toLowerCase();
            const activeBodypart = document.querySelector(".bodypart-btn.active")
                .dataset.bodypart;

            const filteredExercises = exercises.filter((exercise) => {
                // Ê£ÄÊü•Âä®‰ΩúÂêçÁß∞ÊòØÂê¶ÂåπÈÖç
                const matchesName = exercise.name.toLowerCase().includes(searchTerm);

                // Ê£ÄÊü•ËÇåËÇâÂêçÁß∞ÊòØÂê¶ÂåπÈÖç
                const matchesMuscles = exercise.muscles.some((muscle) =>
                    muscle.toLowerCase().includes(searchTerm)
                );

                // Ê£ÄÊü•ÈÉ®‰ΩçÊòØÂê¶ÂåπÈÖç
                const matchesBodypart =
                    activeBodypart === "all" || exercise.bodyPart === activeBodypart;

                // ËøîÂõûÂåπÈÖçÁªìÊûúÔºöÂêçÁß∞ÊàñËÇåËÇâÂåπÈÖçÔºåÂπ∂‰∏îÈÉ®‰ΩçÂíåÁ±ªÂûãÂåπÈÖç
                return (matchesName || matchesMuscles) && matchesBodypart;
            });

            renderExercises(filteredExercises);
        }

        // Ê∏≤ÊüìÊó•ÂéÜ
        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();

            // Êõ¥Êñ∞Êó•ÂéÜÊ†áÈ¢ò
            document.getElementById("calendar-month").textContent = `${year}Âπ¥${
                month + 1
            }Êúà`;

            // Ëé∑ÂèñÂΩìÊúàÁ¨¨‰∏ÄÂ§©ÂíåÊúÄÂêé‰∏ÄÂ§©
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);

            // Ëé∑ÂèñÂΩìÊúàÁ¨¨‰∏ÄÂ§©ÊòØÊòüÊúüÂá† (0 = ÊòüÊúüÊó•, 6 = ÊòüÊúüÂÖ≠)
            const firstDayIndex = firstDay.getDay();

            // Ëé∑ÂèñÂΩìÊúàÊÄªÂ§©Êï∞
            const daysInMonth = lastDay.getDate();

            // Ëé∑Âèñ‰∏ä‰∏™ÊúàÊúÄÂêéÂá†Â§©
            const prevLastDay = new Date(year, month, 0).getDate();

            // Ê∏ÖÁ©∫Êó•ÂéÜ
            const calendarDays = document.getElementById("calendar-days");
            calendarDays.innerHTML = "";

            // Ê∑ªÂä†‰∏ä‰∏™ÊúàÁöÑÊó•Êúü
            for (let i = firstDayIndex; i > 0; i--) {
                const dayElement = document.createElement("div");
                dayElement.className = "calendar-day empty";
                dayElement.textContent = prevLastDay - i + 1;
                calendarDays.appendChild(dayElement);
            }

            // Ê∑ªÂä†ÂΩìÊúàÊó•Êúü
            const today = new Date();
            for (let i = 1; i <= daysInMonth; i++) {
                const dayElement = document.createElement("div");
                dayElement.className = "calendar-day current-month";

                // Ê£ÄÊü•ÊòØÂê¶ÊòØ‰ªäÂ§©
                if (
                    year === today.getFullYear() &&
                    month === today.getMonth() &&
                    i === today.getDate()
                ) {
                    dayElement.classList.add("today");
                }

                const dateStr = `${year}-${month + 1}-${i}`;

                dayElement.innerHTML = `
                            <div class="day-number">${i}</div>
                            <div class="day-exercises" id="day-${dateStr}"></div>
                        `;

                // Ê∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂ÔºåÊâìÂºÄËÆ°ÂàíËØ¶ÊÉÖ
                dayElement.addEventListener("click", function () {
                    showPlanDetail(dateStr);
                });

                calendarDays.appendChild(dayElement);

                // Ê∏≤ÊüìÂΩìÂ§©ÁöÑËÆ≠ÁªÉËÆ°Âàí
                renderDayExercises(dateStr);
            }

            // ËÆ°ÁÆóËøòÈúÄË¶ÅÊ∑ªÂä†Â§öÂ∞ëÂ§©Êù•Â°´Êª°Êó•ÂéÜ
            const totalCells = 42; // 6Ë°å * 7Â§©
            const remainingCells = totalCells - (firstDayIndex + daysInMonth);

            // Ê∑ªÂä†‰∏ã‰∏™ÊúàÁöÑÊó•Êúü
            for (let i = 1; i <= remainingCells; i++) {
                const dayElement = document.createElement("div");
                dayElement.className = "calendar-day empty";
                dayElement.textContent = i;
                calendarDays.appendChild(dayElement);
            }
        }

        // Ê∏≤ÊüìÊüê‰∏ÄÂ§©ÁöÑËÆ≠ÁªÉÂä®‰Ωú
        function renderDayExercises(dateStr) {
            const dayExercisesElement = document.getElementById(`day-${dateStr}`);
            if (!dayExercisesElement) return;

            dayExercisesElement.innerHTML = "";

            if (trainingPlans[dateStr] && trainingPlans[dateStr].length > 0) {
                trainingPlans[dateStr].forEach((exerciseId) => {
                    const exercise = exercises.find((e) => e.id === exerciseId);
                    if (exercise) {
                        const badge = document.createElement("span");
                        badge.className = "exercise-badge";

                        // Ê†πÊçÆÂä®‰ΩúÁ±ªÂûãÊ∑ªÂä†‰∏çÂêåÁöÑÊ†∑ÂºèÁ±ª
                        if (exercise.type === "warmup") {
                            badge.classList.add("warmup");
                        } else if (exercise.type === "stretch") {
                            badge.classList.add("stretch");
                        }

                        badge.textContent = exercise.name;
                        dayExercisesElement.appendChild(badge);
                    }
                });
            }
        }

        // ÊòæÁ§∫ËÆ≠ÁªÉËÆ°ÂàíËØ¶ÊÉÖ
        function showPlanDetail(dateStr) {
            document.getElementById(
                "plan-date"
            ).textContent = `${dateStr} ËÆ≠ÁªÉËÆ°Âàí`;
            document.getElementById("plan-date").setAttribute("data-date", dateStr);
            renderPlanDetail(dateStr);
            document.getElementById("plan-detail").style.display = "block";
        }

        // Ê∏≤ÊüìËÆ≠ÁªÉËÆ°ÂàíËØ¶ÊÉÖ
        function renderPlanDetail(dateStr) {
            const planExercisesElement = document.getElementById("plan-exercises");
            planExercisesElement.innerHTML = "";

            if (!trainingPlans[dateStr] || trainingPlans[dateStr].length === 0) {
                planExercisesElement.innerHTML =
                    '<p style="text-align: center; color: #666;">ÊöÇÊó†ËÆ≠ÁªÉËÆ°ÂàíÔºåËØ∑Ê∑ªÂä†Âä®‰Ωú</p>';
                return;
            }

            trainingPlans[dateStr].forEach((exerciseId, index) => {
                const exercise = exercises.find((e) => e.id === exerciseId);
                if (exercise) {
                    const exerciseItem = document.createElement("div");
                    exerciseItem.className = "plan-exercise-item";

                    // Ëé∑ÂèñËØ•Âä®‰ΩúÁöÑËÆ≠ÁªÉÊï∞ÊçÆ
                    const exerciseData = getExerciseData(dateStr, exerciseId) || {
                        sets: [{ reps: "", weight: "", completed: false }],
                    };

                    exerciseItem.innerHTML = `
                                <div class="exercise-header">
                                    <h3>${exercise.name}</h3>
                                    <button class="remove-exercise" data-exercise="${exerciseId}">Âà†Èô§</button>
                                </div>
                                <div class="sets-container" id="sets-${exerciseId}">
                                    ${exerciseData.sets
                                        .map(
                                            (set, setIndex) => `
                                        <div class="set-item">
                                            <div class="set-number">Á¨¨${
                                                setIndex + 1
                                            }ÁªÑ</div>
                                            <div class="input-with-unit">
                                                <input type="number" class="set-input reps-input" placeholder="Ê¨°Êï∞" value="${
                                                    set.reps || ""
                                                }" data-set="${setIndex}" data-exercise="${exerciseId}">
                                                <span class="unit-label">Ê¨°</span>
                                            </div>
                                            <div class="input-with-unit">
                                                <input type="number" class="set-input weight-input" placeholder="ÈáçÈáè" value="${
                                                    set.weight || ""
                                                }" data-set="${setIndex}" data-exercise="${exerciseId}">
                                                <span class="unit-label">kg</span>
                                            </div>
                                            <div class="set-complete">
                                                <input type="checkbox" class="complete-checkbox" ${
                                                    set.completed ? "checked" : ""
                                                } data-set="${setIndex}" data-exercise="${exerciseId}">
                                                <span class="complete-label">ÂÆåÊàê</span>
                                            </div>
                                            <button class="delete-set-btn" data-set="${setIndex}" data-exercise="${exerciseId}">Âà†Èô§ÁªÑ</button>
                                        </div>
                                    `
                                        )
                                        .join("")}
                                </div>
                                <button class="add-set-btn" data-exercise="${exerciseId}">Ê∑ªÂä†ÁªÑ</button>
                            `;

                    planExercisesElement.appendChild(exerciseItem);
                }
            });

            // Ê∑ªÂä†‰∫ã‰ª∂ÁõëÂê¨Âô®
            addPlanEventListeners(dateStr);
        }

        // Ê∑ªÂä†ËÆ≠ÁªÉËÆ°ÂàíËØ¶ÊÉÖÁöÑ‰∫ã‰ª∂ÁõëÂê¨Âô®
        function addPlanEventListeners(dateStr) {
            // Âà†Èô§Âä®‰ΩúÊåâÈíÆ
            document.querySelectorAll(".remove-exercise").forEach((button) => {
                button.addEventListener("click", function () {
                    const exerciseId = this.getAttribute("data-exercise");
                    removeExerciseFromPlan(dateStr, exerciseId);
                    renderPlanDetail(dateStr);
                    renderDayExercises(dateStr);
                });
            });

            // Ê∑ªÂä†ÁªÑÊåâÈíÆ
            document.querySelectorAll(".add-set-btn").forEach((button) => {
                button.addEventListener("click", function () {
                    const exerciseId = this.getAttribute("data-exercise");
                    addSetToExercise(dateStr, exerciseId);
                    renderPlanDetail(dateStr);
                });
            });

            // Âà†Èô§ÁªÑÊåâÈíÆ
            document.querySelectorAll(".delete-set-btn").forEach((button) => {
                button.addEventListener("click", function () {
                    const exerciseId = this.getAttribute("data-exercise");
                    const setIndex = parseInt(this.getAttribute("data-set"));
                    removeSetFromExercise(dateStr, exerciseId, setIndex);
                    renderPlanDetail(dateStr);
                });
            });

            // ËæìÂÖ•Ê°ÜÂèòÂåñ‰∫ã‰ª∂
            document.querySelectorAll(".set-input").forEach((input) => {
                input.addEventListener("change", function () {
                    const exerciseId = this.getAttribute("data-exercise");
                    const setIndex = parseInt(this.getAttribute("data-set"));
                    const field = this.classList.contains("reps-input")
                        ? "reps"
                        : "weight";
                    const value = this.value;

                    updateExerciseData(dateStr, exerciseId, setIndex, field, value);
                });
            });

            // ÂÆåÊàêÂ§çÈÄâÊ°Ü‰∫ã‰ª∂
            document.querySelectorAll(".complete-checkbox").forEach((checkbox) => {
                checkbox.addEventListener("change", function () {
                    const exerciseId = this.getAttribute("data-exercise");
                    const setIndex = parseInt(this.getAttribute("data-set"));
                    const completed = this.checked;

                    updateExerciseData(
                        dateStr,
                        exerciseId,
                        setIndex,
                        "completed",
                        completed
                    );

                    // Â¶ÇÊûúÂÆåÊàêÔºåÂêØÂä®‰ºëÊÅØËÆ°Êó∂Âô®
                    if (completed) {
                        showTimerModal();
                    }
                });
            });
        }

        // Ëé∑ÂèñÂä®‰ΩúÁöÑËÆ≠ÁªÉÊï∞ÊçÆ
        function getExerciseData(dateStr, exerciseId) {
            if (!trainingPlans[dateStr] || !trainingPlans[dateStr].exerciseData) {
                return null;
            }
            return trainingPlans[dateStr].exerciseData[exerciseId];
        }

        // Êõ¥Êñ∞Âä®‰ΩúÁöÑËÆ≠ÁªÉÊï∞ÊçÆ
        function updateExerciseData(dateStr, exerciseId, setIndex, field, value) {
            if (!trainingPlans[dateStr].exerciseData) {
                trainingPlans[dateStr].exerciseData = {};
            }

            if (!trainingPlans[dateStr].exerciseData[exerciseId]) {
                trainingPlans[dateStr].exerciseData[exerciseId] = {
                    sets: [],
                };
            }

            if (!trainingPlans[dateStr].exerciseData[exerciseId].sets[setIndex]) {
                trainingPlans[dateStr].exerciseData[exerciseId].sets[setIndex] = {};
            }

            trainingPlans[dateStr].exerciseData[exerciseId].sets[setIndex][field] =
                value;
            saveTrainingPlans();
        }

        // Ê∑ªÂä†ÁªÑÂà∞Âä®‰Ωú
        function addSetToExercise(dateStr, exerciseId) {
            if (!trainingPlans[dateStr].exerciseData) {
                trainingPlans[dateStr].exerciseData = {};
            }

            if (!trainingPlans[dateStr].exerciseData[exerciseId]) {
                trainingPlans[dateStr].exerciseData[exerciseId] = {
                    sets: [],
                };
            }

            trainingPlans[dateStr].exerciseData[exerciseId].sets.push({
                reps: "",
                weight: "",
                completed: false,
            });

            saveTrainingPlans();
        }

        // ‰ªéÂä®‰Ωú‰∏≠Âà†Èô§ÁªÑ
        function removeSetFromExercise(dateStr, exerciseId, setIndex) {
            if (
                !trainingPlans[dateStr].exerciseData ||
                !trainingPlans[dateStr].exerciseData[exerciseId] ||
                !trainingPlans[dateStr].exerciseData[exerciseId].sets[setIndex]
            ) {
                return;
            }

            trainingPlans[dateStr].exerciseData[exerciseId].sets.splice(
                setIndex,
                1
            );
            saveTrainingPlans();
        }

        // Ê∑ªÂä†Âä®‰ΩúÂà∞ËÆ°Âàí
        function addExerciseToPlan(dateStr, exerciseId) {
            if (!trainingPlans[dateStr]) {
                trainingPlans[dateStr] = [];
            }

            if (!trainingPlans[dateStr].includes(exerciseId)) {
                trainingPlans[dateStr].push(exerciseId);
                saveTrainingPlans();
            }
        }

        // ‰ªéËÆ°Âàí‰∏≠Âà†Èô§Âä®‰Ωú
        function removeExerciseFromPlan(dateStr, exerciseId) {
            if (!trainingPlans[dateStr]) return;

            const index = trainingPlans[dateStr].indexOf(exerciseId);
            if (index !== -1) {
                trainingPlans[dateStr].splice(index, 1);

                // ÂêåÊó∂Âà†Èô§Áõ∏ÂÖ≥ÁöÑËÆ≠ÁªÉÊï∞ÊçÆ
                if (
                    trainingPlans[dateStr].exerciseData &&
                    trainingPlans[dateStr].exerciseData[exerciseId]
                ) {
                    delete trainingPlans[dateStr].exerciseData[exerciseId];
                }

                saveTrainingPlans();
            }
        }

        // ÂàùÂßãÂåñÊ∑ªÂä†Âä®‰ΩúÈÄâÊã©Ê°Ü
        function initAddExerciseSelect() {
            const select = document.getElementById("add-exercise-select");
            select.innerHTML = '<option value="">ÈÄâÊã©Ë¶ÅÊ∑ªÂä†ÁöÑÂä®‰Ωú...</option>';

            exercises.forEach((exercise) => {
                const option = document.createElement("option");
                option.value = exercise.id;
                option.textContent = exercise.name;
                select.appendChild(option);
            });
        }

        // ‰øùÂ≠òËÆ≠ÁªÉËÆ°ÂàíÂà∞Êú¨Âú∞Â≠òÂÇ®
        function saveTrainingPlans() {
            localStorage.setItem("trainingPlans", JSON.stringify(trainingPlans));
        }

        // Ê∑ªÂä†Âä®‰ΩúËØ¶ÊÉÖÁÇπÂáª‰∫ã‰ª∂ÁõëÂê¨Âô®Ôºà‰ΩøÁî®‰∫ã‰ª∂ÂßîÊâòÔºâ
        document.addEventListener("click", function (e) {
            // Ê£ÄÊü•ÁÇπÂáªÁöÑÊòØÂê¶ÊòØÂä®‰ΩúÂç°ÁâáÔºàÊéíÈô§ÊãñÊãΩÂíåÂÜÖÈÉ®ÂÖÉÁ¥†Ôºâ
            if (
                e.target.closest(".exercise-item") &&
                !e.target.closest(".exercise-item").classList.contains("dragging")
            ) {
                const exerciseItem = e.target.closest(".exercise-item");
                const exerciseId = exerciseItem.getAttribute("data-exercise");
                showExerciseDetail(exerciseId);
            }
        });

        // ÊòæÁ§∫Âä®‰ΩúËØ¶ÊÉÖ
        function showExerciseDetail(exerciseId) {
            const exercise = exercises.find((e) => e.id === exerciseId);
            if (!exercise) return;

            // ËÆæÁΩÆÂü∫Êú¨‰ø°ÊÅØ
            document.getElementById("exercise-detail-title").textContent =
                exercise.name;
            document.getElementById(
                "exercise-detail-bodypart"
            ).textContent = `ÈÉ®‰Ωç: ${exercise.bodyPart}`;
            document.getElementById("exercise-detail-description").textContent =
                exercise.description;

            // ËÆæÁΩÆÂä®‰ΩúÁ±ªÂûã
            const typeElement = document.getElementById("exercise-detail-type");
            typeElement.textContent = getExerciseTypeText(exercise.type);
            typeElement.className = "exercise-detail-type " + exercise.type;

            // ËÆæÁΩÆÁõÆÊ†áËÇåËÇâ
            const musclesElement = document.getElementById(
                "exercise-detail-muscles"
            );
            musclesElement.innerHTML = "";
            exercise.muscles.forEach((muscle) => {
                const muscleTag = document.createElement("span");
                muscleTag.className = "muscle-tag";
                muscleTag.textContent = muscle;
                musclesElement.appendChild(muscleTag);
            });

            // ËÆæÁΩÆÊâßË°åÊ≠•È™§
            const stepsElement = document.getElementById("exercise-detail-steps");
            stepsElement.innerHTML = "";
            exercise.steps.forEach((step) => {
                const stepItem = document.createElement("li");
                stepItem.textContent = step;
                stepsElement.appendChild(stepItem);
            });

            // ËÆæÁΩÆËÆ≠ÁªÉÊäÄÂ∑ß
            const tipsElement = document.getElementById("exercise-detail-tips");
            tipsElement.innerHTML = "";
            if (exercise.tips && exercise.tips.length > 0) {
                exercise.tips.forEach((tip) => {
                    const tipItem = document.createElement("li");
                    tipItem.textContent = tip;
                    tipsElement.appendChild(tipItem);
                });
            } else {
                const noTips = document.createElement("li");
                noTips.textContent = "ÊöÇÊó†ÁâπÂà´ÁöÑËÆ≠ÁªÉÊäÄÂ∑ßÊèêÁ§∫„ÄÇ";
                tipsElement.appendChild(noTips);
            }

            // ËÆæÁΩÆGIFÂõæÁâá
            const gifElement = document.getElementById("exercise-detail-gif");
            gifElement.innerHTML = "";
            if (exercise.gif) {
                const gifImg = document.createElement("img");
                gifImg.src = exercise.gif;
                gifImg.alt = exercise.name;
                gifElement.appendChild(gifImg);
            } else {
                gifElement.innerHTML = "<p>ÊöÇÊó†Âä®‰ΩúÊºîÁ§∫Âõæ</p>";
            }

            // ÊòæÁ§∫ÂºπÁ™ó
            document.getElementById("exercise-detail-modal").style.display =
                "block";
        }

        // Ëé∑ÂèñÂä®‰ΩúÁ±ªÂûãÁöÑ‰∏≠ÊñáÊñáÊú¨
        function getExerciseTypeText(type) {
            switch (type) {
                case "warmup":
                    return "ÁÉ≠Ë∫´";
                case "stretch":
                    return "Êãâ‰º∏";
                case "training":
                    return "ËÆ≠ÁªÉ";
                default:
                    return "ËÆ≠ÁªÉ";
            }
        }
    </script>
</body>
</html>